{"version":3,"sources":["components/Header/styles.ts","components/Header/index.tsx","styles/global.ts","components/AudioController/styles.ts","services/url.ts","services/api.ts","components/AudioController/index.tsx","components/ContextMenu/index.ts","pages/Genre/styles.ts","components/ContextMenuMusic/index.tsx","images/logo.png","pages/Genre/index.tsx","pages/Home/styles.ts","pages/Home/index.tsx","pages/Music/styles.ts","pages/Music/index.tsx","pages/MyMusics/styles.ts","pages/MyMusics/index.tsx","pages/Playlist/styles.ts","pages/Playlist/index.tsx","pages/Search/styles.ts","pages/Search/index.tsx","pages/User/styles.ts","components/Divider/index.ts","pages/User/index.tsx","pages/Upload/styles.ts","pages/Upload/index.tsx","pages/NotFound/styles.ts","pages/NotFound/index.tsx","pages/App/styles.ts","pages/App/index.tsx","pages/Landing/styles.ts","components/Checkbox/styles.ts","components/Checkbox/index.tsx","pages/Landing/index.tsx","routes/index.tsx","store/reducers/actualIndex.reducer.ts","store/reducers/audio.reducer.ts","store/reducers/music.reducer.ts","store/reducers/musicIsLoaded.reducer.ts","store/reducers/musicType.reducer.ts","store/reducers/playlist.reducer.ts","store/reducers/playlists.reducer.ts","store/reducers/updates.reducer.ts","store/index.ts","App.tsx","index.tsx"],"names":["Container","styled","div","OperationButtonContainer","process","platform","OperationButton","button","props","color","hover","active","DragArea","Title","p","OperationButtonOther","Header","handleOperate","type","remote","window","currentWindow","getCurrentWindow","close","minimize","isMaximized","restore","maximize","onClick","style","marginBottom","size","GlobalStyle","createGlobalStyle","MusicInfoContainer","MusicInfoImage","img","MusicNameContainer","MusicName","h3","MusicAuthor","span","MusicControllerContainer","PlaylistName","MusicControllerButtonsContainer","MusicTimeContainer","MusicTimeSpan","MusicTimeSliderContainer","MusicTimeSliderSpan","duration","width","currentTime","ControllerContainer","ControllerButton","api","axios","create","baseURL","url","AudioController","email","localStorage","getItem","token","audio","useSelector","store","music","playlist","dispatch","useDispatch","history","useHistory","useState","volume","setVolume","paused","setPaused","looping","setLooping","setCurrentTime","setDuration","treatTime","timeInSeconds","time","Math","floor","minutes","seconds","goNextMusic","index","musics","length","musicsJSON","sessionStorage","JSON","parse","getMusic","a","get","data","error","payload","splice","setItem","stringify","alert","listeners","play","err","useEffect","isPlaylist","pause","name_upload","headers","then","catch","volumeStorage","addEventListener","removeEventListener","removeItem","push","id","src","music_background","name","user_owner","loop","axis","x","xstep","xmin","xmax","onChange","params","styles","track","backgroundColor","cursor","thumb","height","config","getVolumeIcon","ContextMenuContainer","y","ContextMenuItem","ContextMenuTextContainer","ContextMenuDivider","ContextMenuText","ReturnContainer","ReturnButton","PlayerContainer","InfoContainer","InfoImg","InfoMusicContainer","InfoName","ErrorContainer","ErrorMessage","InfoMusics","PlayButton","MusicsContainer","MusicItem","MusicConfig","MusicImage","ContextMenuMusic","musicIsLoaded","playlists","setIsPlaylist","handlePlayMusic","setTimeout","saveMusic","patch","message","visible","fill","onMouseEnter","onMouseLeave","map","initialState","access","description","keywords","avatar","createdAt","editable","Playlist","useParams","contextMenu","setContextMenu","contextMenuCoordinates","setContextMenuCoordinates","contextMenuMusic","setContextMenuMusic","setError","errorMessage","setErrorMessage","hasImg","setHasImg","setMusics","treatTypeName","toUpperCase","slice","handleContextMenu","evt","click","innerHeight","document","run","getImg","goBack","logo","onMouseDown","textAlign","h2","MusicItemImage","MusicItemButton","MusicItemName","Home","contextMenuVisible","setContextMenuVisible","actualMusic","setActualMusic","handleSeeMusic","handleMouseDown","playMusic","sortMusic","music1","music2","divider","musics1","musics2","musics3","musics4","musics5","sort","onDoubleClick","InputContainer","label","cwidth","Input","input","header","Main","main","MainImg","MainInfoContainer","MainInfo","MainInfoAvatarContainer","MainInfoAvatar","MainInfoName","MainPlayContainer","MainPlayType","MainPlayButton","Footer","footer","FooterItem","Music","nameInput","useRef","descriptionInput","keywordsInput","loaded","setLoaded","setMusic","initialName","setInitialName","setName","initialDescription","setInitialDescription","setDescription","initialKeywords","setInitialKeywords","setKeywords","title","join","keydown","code","current","blur","justifyContent","alignItems","ref","maxLength","onBlur","e","target","value","placeholder","treatType","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","getMinutes","shrink","MusicInfo","MusicImg","initialStateCoordinates","MyMusics","myMusics","setMyMusics","handleDeleteMusic","delete","newMyMusics","myMusic","hasImage","InfoNameInput","MusicDrag","initialStatePlaylist","public","actualIndex","setPlaylist","owner","setOwner","handleKeyDown","newName","handleMoveMusic","newMusics","newIndex","focus","SearchContainer","SearchButton","SearchInput","MusicTypeButtonContainer","MusicTypeButton","MusicTypeButtonName","MusicTypeButtonImage","Search","musicTypes","setMusicTypes","searchValue","setSearchValue","musicType","AvatarImageContainer","AvatarImage","AvatarInput","UserInput","SaveButton","OperationContainer","OperationLeave","OperationDelete","Divider","customWidth","User","avatarInput","updates","setUpdates","setAvatar","setEmail","password","setPassword","newPassword","setNewPassword","initialAvatar","setInitialAvatar","initialEmail","setInitialEmail","loading","setLoading","formData","FormData","append","files","clean","uri","accept","file","fileReader","FileReader","onloadend","result","readAsDataURL","disabled","HeaderImg","HeaderText","InputTitle","InputDiv","TextArea","textarea","RadioContainer","RadioItem","RadioInput","RadioInputDiv","ButtonInput","Button","ButtonImg","SuccessContainer","SuccessMessage","SaveButtonText","Upload","imageInput","audioInput","setType","image","setImage","setAudio","success","setSuccess","post","inserted","h1","NotFound","AppContainer","NavContainer","nav","NavButtonContainer","NavButton","NavButtonText","selected","NavSubtitleContainer","NavSubtitle","NavPlaylistItem","NavPlaylistImage","NavPlaylistImageDiv","NavPlaylistInfoContainer","NavPlaylistInput","NavPlaylistName","strong","NavPlaylistInfo","DownloadButton","ContentContainer","App","desktop","location","useLocation","playlistsStore","playlistName","setPlaylistName","indexSelected","setIndexSelected","setPlaylists","createPlaylistInput","createPlaylist","setCreatePlaylist","createPlaylistName","setCreatePlaylistName","path","pathname","replace","navigate","pageName","renamePlaylist","handleGoPlaylist","handleContextMenuPlaylist","public_playlist","newPlaylists","preventDefault","keyDown","navigator","userAgent","toLowerCase","includes","href","exact","component","HomePage","Genre","MusicPage","SearchPage","UploadPage","children","LoadingContainer","LoadingImage","Logo","Interface","InputLabel","TextInput","LoginContainer","CheckboxLabel","CheckboxP","LoginButton","LoginText","CreateAccountButton","CheckboxInput","UncheckedDiv","CheckedDiv","Checkbox","checked","setChecked","Landing","confirmPassword","setConfirmPassword","createAccount","setCreateAccount","rememberMe","setRememberMe","didMount","setDidMount","Router","ActualIndexReducer","state","actions","Audio","AudioReducer","MusicReducer","MusicIsLoadedReducer","isType","MusicTypeReducer","PlaylistReducer","PlaylistsReducer","playlists2","playlists3","playlists4","playlists5","playlists6","Updates","reducers","combineReducers","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.241530ad.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 30px;\r\n    background-color: #3e3e3e;\r\n\r\n    border-bottom: 1px solid #d9dadc;\r\n\r\n    display: flex;\r\n\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n`\r\n\r\nexport const OperationButtonContainer = styled.div`\r\n    width: ${() => process.platform !== 'darwin' ? 60 : 100}px;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`\r\n\r\nexport const OperationButton: any = styled.button`\r\n    width: 15px;\r\n    height: 15px;\r\n    border-radius: 50%;\r\n\r\n    background-color: ${(props: any) => props.color};\r\n\r\n    &:hover {\r\n        background-color: ${(props: any) => props.hover};\r\n    }\r\n\r\n    &:active {\r\n        background-color: ${(props: any) => props.active};\r\n    }\r\n`\r\n\r\nexport const DragArea = styled.div`\r\n    flex: 1;\r\n    \r\n    -webkit-user-select: none;\r\n    -webkit-app-region: drag;\r\n`\r\n\r\nexport const Title = styled.p`\r\n    color: #d9dadc;\r\n    text-align: ${() => process.platform !== 'darwin' ? 'right' : 'left'};\r\n    margin: 0 10px;\r\n`\r\n\r\nexport const OperationButtonOther = styled.button`\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: transparent;\r\n\r\n    font-size: 40px;\r\n    color: #4c43df;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    margin: 0 5px;\r\n`","import React, { Fragment } from 'react'\r\nimport { X } from 'react-feather'\r\n\r\nimport {\r\n    Container,\r\n    OperationButtonContainer,\r\n    OperationButton,\r\n    DragArea,\r\n    Title,\r\n    OperationButtonOther\r\n} from './styles'\r\n\r\nfunction Header(): JSX.Element {\r\n\r\n    function handleOperate(type: string): Function {\r\n        return function() {\r\n            const { remote } = window as any\r\n            if (remote) {\r\n                const currentWindow = remote.getCurrentWindow()\r\n                switch(type) {\r\n                    case 'close':\r\n                        currentWindow.close()\r\n                        return\r\n                    case 'minimize':\r\n                        currentWindow.minimize()\r\n                        return\r\n                    case 'maximize':\r\n                        if (currentWindow.isMaximized()) {\r\n                            currentWindow.restore()\r\n                        } else {\r\n                            currentWindow.maximize()\r\n                        }\r\n                        return\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return <Container>\r\n        {process.platform !== 'darwin' ? <Fragment>\r\n            <OperationButtonContainer>\r\n                <OperationButton\r\n                    onClick={handleOperate('close')}\r\n                    color=\"rgb(222, 85, 78)\"\r\n                    hover=\"rgb(202, 65, 58)\"\r\n                    active=\"rgb(172, 35, 28)\"\r\n                />\r\n                <OperationButton\r\n                    onClick={handleOperate('minimize')}\r\n                    color=\"rgb(238, 188, 63)\"\r\n                    hover=\"rgb(218, 168, 43)\"\r\n                    active=\"rgb(188, 138, 13)\"\r\n                />\r\n                <OperationButton\r\n                    onClick={handleOperate('maximize')}\r\n                    color=\"rgb(117, 200, 78)\"\r\n                    hover=\"rgb(97, 180, 58)\"\r\n                    active=\"rgb(67, 150, 28)\"\r\n                />\r\n            </OperationButtonContainer>\r\n            <DragArea>\r\n                <Title>Aram Music</Title>\r\n            </DragArea> \r\n        </Fragment> : <Fragment>\r\n            <DragArea>\r\n                <Title>Aram Music</Title>\r\n            </DragArea>\r\n            <OperationButtonContainer>\r\n            <OperationButtonOther onClick={handleOperate('minimize') as any}>\r\n                    <span style={{ marginBottom: 20 }}>_</span>\r\n                </OperationButtonOther>\r\n                <OperationButtonOther onClick={handleOperate('maximize') as any}>\r\n                    <span style={{ marginBottom: 8 }}>□</span>\r\n                </OperationButtonOther>\r\n                <OperationButtonOther onClick={handleOperate('close') as any}>\r\n                    <X\r\n                        size={30}\r\n                        color=\"#4c43df\"\r\n                    />\r\n                </OperationButtonOther>\r\n            </OperationButtonContainer>\r\n        </Fragment>}\r\n    </Container>\r\n}\r\n\r\nexport default Header","import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n        border: none;\r\n        outline: none;\r\n        font-family: 'Nunito', Arial, Helvetica, sans-serif;\r\n    }\r\n\r\n    button, input, textarea {\r\n        font-family: 'Nunito', Arial, Helvetica, sans-serif;\r\n        background-color: transparent;\r\n        cursor: pointer;\r\n    }\r\n`\r\n\r\nexport default GlobalStyle","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100px;\r\n    background-color: #000;\r\n\r\n    display: flex;\r\n`\r\n\r\nexport const MusicInfoContainer: any = styled.div`\r\n    width: 25%;\r\n    height: 100%;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n\r\n    cursor: pointer;\r\n`\r\n\r\nexport const MusicInfoImage = styled.img`\r\n    width: 100px;\r\n    height: 50px;\r\n    margin-right: 5px;\r\n`\r\n\r\nexport const MusicNameContainer = styled.div`\r\n    flex: 1;\r\n    height: 50px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const MusicName = styled.h3`\r\n    color: #d9dadc;\r\n    font-size: 16px;\r\n`\r\n\r\nexport const MusicAuthor = styled.span`\r\n    color: #6e6e6e;\r\n`\r\n\r\nexport const MusicControllerContainer = styled.div`\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const PlaylistName = styled.p`\r\n    color: #d9dadc;\r\n    text-align: center;\r\n`\r\n\r\nexport const MusicControllerButtonsContainer = styled.div`\r\n    width: 100%;\r\n    height: 50%;\r\n    \r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    & > button {\r\n        margin: 0 10px;\r\n    }\r\n`\r\n\r\nexport const MusicTimeContainer = styled.div`\r\n    width: 100%;\r\n    height: 50%;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const MusicTimeSpan = styled.span`\r\n    color: #d9dadc;\r\n`\r\n\r\nexport const MusicTimeSliderContainer = styled.div`\r\n    width: 300px;\r\n    margin: 0 5px;\r\n`\r\n\r\nexport const MusicTimeSliderSpan: any = styled.span`\r\n    color: #d9dadc;\r\n\r\n    position: relative;\r\n    bottom: 5px;\r\n    left: ${(props: any) => {\r\n        const { duration, currentTime } = props\r\n        const width = 300\r\n        const currentTimePercent = currentTime / (duration / 100)\r\n        return ((width / 100) * currentTimePercent) - 15\r\n    }}px;\r\n`\r\n\r\nexport const ControllerContainer = styled.div`\r\n    width: 25%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    position: relative;\r\n\r\n    & > svg {\r\n        margin-right: 10px;\r\n    }\r\n`\r\n\r\nexport const ControllerButton = styled.button`\r\n    width: 25px;\r\n    height: 25px;\r\n\r\n    position: absolute;\r\n    left: 85%;\r\n    bottom: 70%;\r\n`","const ip: string = 'api.benaram.com'\r\nexport default `http://${ip}:888`","import axios from 'axios'\r\nimport url from './url'\r\n\r\nconst api = axios.create({\r\n    baseURL: url\r\n})\r\n\r\nexport default api","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Slider from 'react-input-slider'\r\nimport {\r\n    Rewind,\r\n    SkipBack,\r\n    PlayCircle,\r\n    PauseCircle,\r\n    SkipForward,\r\n    FastForward,\r\n    Repeat,\r\n\r\n    Volume,\r\n    Volume1,\r\n    Volume2,\r\n    VolumeX,\r\n\r\n    X\r\n} from 'react-feather'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    MusicInfoContainer,\r\n    MusicInfoImage,\r\n    MusicNameContainer,\r\n    MusicName,\r\n    MusicAuthor,\r\n    MusicControllerContainer,\r\n    PlaylistName,\r\n    MusicControllerButtonsContainer,\r\n    MusicTimeContainer,\r\n    MusicTimeSpan,\r\n    MusicTimeSliderContainer,\r\n    MusicTimeSliderSpan,\r\n    ControllerContainer,\r\n    ControllerButton\r\n} from './styles'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nconst initialState: Music = {\r\n    access: 0,\r\n    createdAt: '',\r\n    description: '',\r\n    editable: false,\r\n    id: 0,\r\n    keywords: [],\r\n    music_background: '',\r\n    name: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    }\r\n}\r\n\r\nfunction AudioController(): JSX.Element {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const audio = useSelector((store: any) => store.audio)\r\n    const music: Music = useSelector((store: any) => store.music)\r\n    const playlist: StoreStatePlaylist = useSelector((store: any) => store.playlist)\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const [volume, setVolume] = useState<number>(0)\r\n    const [paused, setPaused] = useState<boolean>(false)\r\n    const [looping, setLooping] = useState<boolean>(false)\r\n    const [currentTime, setCurrentTime] = useState<number>(0)\r\n    const [duration, setDuration] = useState<number>(0)\r\n\r\n    function handleSeeMusic() {\r\n        if (playlist.isPlaylist) {\r\n            history.push(`/app/music/${playlist.musics[playlist.index].id}`)\r\n        } else {\r\n            history.push(`/app/music/${music.id}`)\r\n        }\r\n    }\r\n\r\n    function handleRewind(): void {\r\n        if (playlist.isPlaylist) {\r\n            goBackMusic()\r\n        } else {\r\n            audio.currentTime = 0\r\n        }\r\n    }\r\n\r\n    function handleSkipBack(): void {\r\n        audio.currentTime -= 10\r\n    }\r\n\r\n    function handleToggleAudio(): void {\r\n        if (audio.paused) {\r\n            audio.play()\r\n        } else {\r\n            audio.pause()\r\n        }\r\n        setPaused(!paused)\r\n    }\r\n\r\n    function handleAdvance(): void {\r\n        audio.currentTime += 10\r\n    }\r\n\r\n    function handleSkip(): void {\r\n        if (playlist.isPlaylist && !looping) {\r\n            goNextMusic()\r\n        } else {\r\n            audio.currentTime = audio.duration\r\n        }\r\n    }\r\n\r\n    function handleToggleRepeat(): void {\r\n        audio.loop = !audio.loop\r\n        setLooping(!looping)\r\n    }\r\n\r\n    function handleTimeSlider(params: any) {\r\n        const x: number = params.x\r\n        setCurrentTime(x)\r\n        audio.currentTime = x\r\n    }\r\n\r\n    function handleVolumeSlider(params: any) {\r\n        const x: number = params.x\r\n        setVolume(x)\r\n        audio.volume = x\r\n        localStorage.setItem('volume', `${x}`)\r\n    }\r\n\r\n    function handleCloseController(): void {\r\n        dispatch({ type: 'clean-audio' })\r\n        dispatch({ type: 'clean-playlist' })\r\n        dispatch({ type: 'clean-music-is-loaded' })\r\n    }\r\n\r\n    \r\n    function treatTime(timeInSeconds: number): string {\r\n        const time: number = Math.floor(timeInSeconds)\r\n        const minutes: number = Math.floor(time / 60)\r\n        const minutesInSeconds: number = minutes * 60\r\n        const seconds: number = time - minutesInSeconds\r\n        return `${minutes}:${seconds < 10 ? `0${seconds}` : seconds}`\r\n    }\r\n\r\n    function getVolumeIcon(){\r\n        const config = {\r\n            color: \"#d9dadc\",\r\n            size: 25\r\n        }\r\n\r\n        if (volume <= 0) {\r\n            return <VolumeX {...config} />\r\n        }\r\n        if (volume <= 0.5) {\r\n            return <Volume1 {...config} />\r\n        }\r\n        if (volume > 0.5) {\r\n            return <Volume2 {...config} />\r\n        }\r\n\r\n        return <Volume {...config} />\r\n    }\r\n\r\n    function goBackMusic() {\r\n        const { index } = playlist\r\n        if (index - 1 < 0) {\r\n            audio.currentTime = 0\r\n        } else {\r\n            dispatch({ type: 'down-playlist' })\r\n        }\r\n    }\r\n\r\n    function goNextMusic() {\r\n        const { index } = playlist\r\n        if (index + 1 >= playlist.musics.length) {\r\n            const musicsJSON = sessionStorage.getItem('musics')\r\n            if (musicsJSON) {\r\n                const musics = JSON.parse(musicsJSON)\r\n                async function getMusic(){\r\n                    try {\r\n                        let index: number = 0\r\n                        if (musics[index]) {\r\n                            const { data } = await api.get(`/music/${musics[index]}`)\r\n                            if (!data.error) {\r\n                                dispatch({ type: 'disactive-playlist' })\r\n                                dispatch({ type: 'change-music', payload: data })\r\n                                musics.splice(index, 1)\r\n                                sessionStorage.setItem('musics', JSON.stringify(musics))\r\n                            } else {\r\n                                index++\r\n                                getMusic()\r\n                            }\r\n                        }\r\n                    } catch(err) {\r\n                        alert('Ocorreu um erro')\r\n                    }\r\n                }\r\n                getMusic()\r\n            } else {\r\n                setPaused(true)\r\n            }\r\n        } else {\r\n            dispatch({ type: 'up-playlist' })\r\n        }\r\n    }\r\n\r\n\r\n    const listeners = {\r\n        updateTime(){\r\n            setCurrentTime(audio.currentTime)\r\n        },\r\n        loadedMetaData(){\r\n            audio.currentTime = 0\r\n            audio.play()\r\n            setPaused(false)\r\n            setCurrentTime(audio.currentTime)\r\n            setDuration(audio.duration)\r\n            setLooping(false)\r\n        },\r\n        ended() {\r\n            const musicsJSON = sessionStorage.getItem('musics')\r\n            \r\n            let index: number = 0\r\n\r\n            let musics: Array<string> = []\r\n            if (musicsJSON) {\r\n                musics = JSON.parse(musicsJSON)\r\n            }\r\n            if (musics[index]) {\r\n                try {\r\n                    async function getMusic() {\r\n                        if (musics[index]) {\r\n                            const { data } = await api.get(`/music/${musics[index]}`)\r\n                            if (!data.error) {\r\n                                dispatch({ type: 'change-music', payload: data })\r\n                                musics.splice(index, 1)\r\n                                sessionStorage.setItem('musics', JSON.stringify(musics))\r\n                            } else {\r\n                                index++\r\n                                getMusic()\r\n                            }\r\n                        }\r\n                    }\r\n                    getMusic()\r\n                } catch(err) {\r\n                    alert('Ocorreu um erro')\r\n                }\r\n            } else {\r\n                setPaused(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!playlist.isPlaylist) {\r\n            audio.pause()\r\n            dispatch({ type: 'source-audio', payload: music.name_upload })\r\n            api.get(`/audio/access/${music.name_upload}`, {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            }).then().catch()\r\n        }\r\n    }, [music.name_upload, playlist.isPlaylist])\r\n    useEffect(() => {\r\n        if (playlist.isPlaylist) {\r\n            const { index } = playlist\r\n            audio.pause()\r\n            dispatch({ type: 'source-audio', payload: playlist.musics[index].name_upload })\r\n            api.get(`/audio/access/${playlist.musics[index].name_upload}`, {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            }).then().catch()\r\n        }\r\n    }, [playlist.index, playlist.isPlaylist])\r\n\r\n    useEffect(() => {\r\n        function clean(){\r\n            audio.removeEventListener('loadedmetadata', listeners.loadedMetaData)\r\n            audio.removeEventListener('timeupdate', listeners.updateTime)\r\n            audio.removeEventListener('ended', listeners.ended)\r\n            audio.removeEventListener('ended', goNextMusic)\r\n\r\n            dispatch({ type: 'clean-audio' })\r\n            dispatch({ type: 'clean-music' })\r\n            dispatch({ type: 'clean-playlist' })\r\n\r\n            sessionStorage.removeItem('musics')\r\n        }\r\n\r\n        const volumeStorage: any = localStorage.getItem('volume')\r\n\r\n        if (volumeStorage) {\r\n            setVolume(volumeStorage * 1)\r\n            audio.volume = volumeStorage * 1\r\n        } else {\r\n            setVolume(1)\r\n            audio.volume = 1\r\n        }\r\n\r\n        audio.addEventListener('loadedmetadata', listeners.loadedMetaData)\r\n        audio.addEventListener('timeupdate', listeners.updateTime)\r\n        if (playlist.isPlaylist) {\r\n            audio.addEventListener('ended', goNextMusic)\r\n        } else {\r\n            audio.addEventListener('ended', listeners.ended)\r\n        }\r\n        return clean\r\n    }, [])\r\n\r\n    return <Container>\r\n        <MusicInfoContainer onClick={handleSeeMusic}>\r\n            <MusicInfoImage\r\n                src={!playlist.isPlaylist ? `${url}/music-bg/${music.music_background}` :\r\n                `${url}/music-bg/${playlist.musics[playlist.index].music_background}`}\r\n            />\r\n            <MusicNameContainer>\r\n                <MusicName>\r\n                    {!playlist.isPlaylist ? music.name : playlist.musics[playlist.index].name}\r\n                </MusicName>\r\n                <MusicAuthor>\r\n                    {!playlist.isPlaylist ? music.user_owner.name : playlist.musics[playlist.index].user_owner.name}\r\n                </MusicAuthor>\r\n            </MusicNameContainer>\r\n        </MusicInfoContainer>\r\n        <MusicControllerContainer>\r\n            {playlist.isPlaylist ? <PlaylistName>\r\n                <strong>Tocando:{' '}</strong>\r\n                {playlist.name}\r\n            </PlaylistName> : null}\r\n            <MusicControllerButtonsContainer>\r\n                <button onClick={handleRewind}>\r\n                    <Rewind\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    />\r\n                </button>\r\n                <button onClick={handleSkipBack}>\r\n                    <SkipBack\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    />\r\n                </button>\r\n                <button onClick={handleToggleAudio}>\r\n                    {paused ? <PlayCircle\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    /> : <PauseCircle\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    />}\r\n                </button>\r\n                <button onClick={handleAdvance}>\r\n                    <SkipForward\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    />\r\n                </button>\r\n                <button onClick={handleSkip}>\r\n                    <FastForward\r\n                        color=\"#d9dadc\"\r\n                        size={25}\r\n                    />\r\n                </button>\r\n                <button onClick={handleToggleRepeat}>\r\n                    <Repeat\r\n                        color={looping ? '#4c43df' : '#d9dadc'}\r\n                        size={25}\r\n                    />\r\n                </button>\r\n            </MusicControllerButtonsContainer>\r\n            <MusicTimeContainer>\r\n                <MusicTimeSpan>0:00</MusicTimeSpan>\r\n                <MusicTimeSliderContainer>\r\n                    <MusicTimeSliderSpan\r\n                        duration={duration}\r\n                        currentTime={currentTime}\r\n                    >\r\n                        {treatTime(currentTime)}\r\n                    </MusicTimeSliderSpan>\r\n                    <Slider\r\n                        axis=\"x\"\r\n                        x={currentTime}\r\n                        xstep={1}\r\n                        xmin={0}\r\n                        xmax={duration}\r\n                        onChange={handleTimeSlider}\r\n                        styles={{\r\n                            track: {\r\n                                width: '100%',\r\n                                backgroundColor: '#d9dadc',\r\n                                cursor: 'pointer'\r\n                            },\r\n                            active: {\r\n                                backgroundColor: '#4c43df'\r\n                            },\r\n                            thumb: {\r\n                                width: 15,\r\n                                height: 15,\r\n                                backgroundColor: '#4c43df'\r\n                            }\r\n                        }}\r\n                    />\r\n                </MusicTimeSliderContainer>\r\n                <MusicTimeSpan>\r\n                    {treatTime(duration)}\r\n                </MusicTimeSpan>\r\n            </MusicTimeContainer>\r\n        </MusicControllerContainer>\r\n        <ControllerContainer>\r\n            <ControllerButton onClick={handleCloseController}>\r\n                <X\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n            </ControllerButton>\r\n            {getVolumeIcon()}\r\n            <Slider\r\n                axis=\"x\"\r\n                x={volume}\r\n                xstep={0.01}\r\n                xmin={0}\r\n                xmax={1}\r\n                onChange={handleVolumeSlider}\r\n                styles={{\r\n                    track: {\r\n                        width: '40%',\r\n                        backgroundColor: '#d9dadc',\r\n                        cursor: 'pointer'\r\n                    },\r\n                    active: {\r\n                        backgroundColor: '#4c43df'\r\n                    },\r\n                    thumb: {\r\n                        width: 15,\r\n                        height: 15,\r\n                        backgroundColor: '#4c43df'\r\n                    }\r\n                }}\r\n            />\r\n        </ControllerContainer>\r\n    </Container>\r\n}\r\n\r\nexport default AudioController","import styled from 'styled-components'\r\n\r\nexport const ContextMenuContainer: any = styled.div`\r\n    border-radius: 10px;\r\n    padding: 5px 10px;\r\n    background: #4f4f4f;\r\n\r\n    box-shadow: 0 0 2px black;\r\n\r\n    position: absolute;\r\n    left: ${(props: any) => props.x}px;\r\n    top: ${(props: any) => props.y}px;\r\n\r\n    z-index: 9999;\r\n`\r\n\r\nexport const ContextMenuItem: any = styled.button`\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    \r\n    margin: 4px 0;\r\n    border-radius: 10px;\r\n    padding: 1px 2.5px;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    &:hover {\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    &:active {\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n`\r\n\r\nexport const ContextMenuTextContainer = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n    align-items: center;\r\n`\r\n\r\nexport const ContextMenuDivider = styled.div`\r\n    width: 1.5px;\r\n    height: 15px;\r\n    background-color: #d9dadc;\r\n\r\n    margin: 0 5px;\r\n`\r\n\r\nexport const ContextMenuText = styled.p`\r\n    color: #d9dadc;\r\n`","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const ReturnContainer = styled.div`\r\n    width: 100%;\r\n    height: 20px;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n`\r\n\r\nexport const ReturnButton = styled.button`\r\n    width: 30px;\r\n    height: 30px;\r\n`\r\n\r\nexport const PlayerContainer = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`\r\n\r\nexport const InfoContainer = styled.div`\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n`\r\n\r\nexport const InfoImg = styled.img`\r\n    width: 100px;\r\n    height: 100px;\r\n\r\n    margin: 0 10px;\r\n`\r\n\r\nexport const InfoMusicContainer = styled.div`\r\n    width: 50%;\r\n    height: 75px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const InfoName = styled.span`\r\n    color: #d9dadc;\r\n    font-weight: bold;\r\n`\r\n\r\nexport const InfoNameInput = styled.div`\r\n    border-radius: 10px;\r\n    padding: 1px 2.5px;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    & > input {\r\n        width: 80%;\r\n        font-weight: bold;\r\n        font-size: 16px;\r\n        color: #d9dadc;\r\n    }\r\n\r\n    &:hover {\r\n        border: 1px solid #d9dadc;\r\n    }\r\n\r\n    & > button {\r\n        margin: 0 5px;\r\n    }\r\n`\r\n\r\nexport const ErrorContainer = styled.div`\r\n    border: 1.5px solid #c82333;\r\n    border-radius: 10px;\r\n\r\n    width: 200px;\r\n    padding: 5px;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n    color: #c82333;\r\n`\r\n\r\nexport const InfoMusics = styled.span`\r\n    color: #d9dadc;\r\n`\r\n\r\nexport const PlayButton = styled.button`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-self: flex-end;\r\n\r\n    background-color: #4c43df;\r\n    border-radius: 50%;\r\n\r\n    width: 50px;\r\n    height: 50px;\r\n    margin: 20px;\r\n\r\n    & > svg {\r\n        fill: #d9dadc;\r\n    }\r\n    &:hover {\r\n        background-color: #2c23bf;\r\n    }\r\n    &:active {\r\n        background-color: #09039e;\r\n    }\r\n`\r\n\r\nexport const MusicsContainer = styled.div`\r\n    width: 100%;\r\n    height: 400px;\r\n    overflow: auto;\r\n\r\n    @media (max-height: 664px) {\r\n        height: 320px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 5px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\n\r\nexport const MusicItem: any = styled.button`\r\n    width: 100%;\r\n    height: 40px;\r\n    color: #d9dadc;\r\n    \r\n    border-radius: 10px;\r\n    margin: 10px 0;\r\n    font-size: 12px;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    &:hover {\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n    }\r\n    &:active {\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n`\r\n\r\nexport const MusicConfig: any = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n`\r\n\r\nexport const MusicImage = styled.img`\r\n    width: 80px;\r\n    height: 100%;\r\n    margin: 0 5px;\r\n`\r\n\r\nexport const MusicDrag = styled.div`\r\n    width: 100px;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n\r\n    & > button > svg {\r\n        margin-right: 10px;\r\n        transition: stroke .2s linear;\r\n    }\r\n\r\n    &:hover > button > svg {\r\n        stroke: #b9babc;\r\n    }\r\n\r\n    &:active > button > svg {\r\n        stroke: #a9aaac;\r\n    }\r\n`","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Play,\r\n    Plus,\r\n    Eye,\r\n    Share,\r\n    ArrowUp\r\n} from 'react-feather'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport {\r\n    ContextMenuContainer,\r\n    ContextMenuItem,\r\n    ContextMenuTextContainer,\r\n    ContextMenuDivider,\r\n    ContextMenuText\r\n} from '../ContextMenu'\r\n\r\nimport api from '../../services/api'\r\n\r\ninterface ContextMenuMusicInterface {\r\n    visible: boolean\r\n    x: number\r\n    y: number\r\n    music: Music\r\n}\r\n\r\nfunction ContextMenuMusic(props: ContextMenuMusicInterface): JSX.Element | null {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const dispatch = useDispatch()\r\n    const musicIsLoaded = useSelector((store: any) => store.musicIsLoaded)\r\n    const playlists: Array<Playlist> = useSelector((store: any) => store.playlists)\r\n\r\n    const history = useHistory()\r\n\r\n\r\n    const [isPlaylist, setIsPlaylist] = useState<boolean>(false)\r\n\r\n    function handlePlayMusic() {\r\n        dispatch({ type: 'disactive-music-is-loaded' })\r\n        setTimeout(() => {\r\n            dispatch({ type: 'change-music', payload: props.music })\r\n            dispatch({ type: 'active-music-is-loaded' })\r\n        }, 1)\r\n    }\r\n\r\n    function handleSeeMusic() {\r\n        history.push(`/app/music/${props.music.id}`)\r\n    }\r\n\r\n    function handleAddRow() {\r\n        const musicsJSON = sessionStorage.getItem('musics')\r\n\r\n        let musics: Array<string> = []\r\n        if (musicsJSON) {\r\n            musics = JSON.parse(musicsJSON)\r\n        }\r\n        if (musicIsLoaded) {\r\n            musics.push(`${props.music.id}`)\r\n            sessionStorage.setItem('musics', JSON.stringify(musics))\r\n        } else {\r\n            handlePlayMusic()\r\n        }\r\n    }\r\n\r\n    function saveMusic(index: number): Function {\r\n        return async function() {\r\n            try {\r\n                const { data } = await api.patch('/playlists/insert', {\r\n                    name: playlists[index].name,\r\n                    name_upload: props.music.name_upload\r\n                }, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    dispatch({ type: 'insert-playlists', index, payload: props.music })\r\n                }\r\n            } catch(err) {\r\n                alert('Não foi possível salvar a música em sua playlist')\r\n            }\r\n        }\r\n    }\r\n\r\n    return props.visible ? <Fragment>\r\n        <ContextMenuContainer\r\n            x={props.x}\r\n            y={props.y}\r\n        >\r\n            <ContextMenuItem\r\n                onClick={handlePlayMusic}\r\n            >\r\n                <ContextMenuTextContainer>\r\n                    <Play\r\n                        size={18}\r\n                        color=\"#d9dadc\"\r\n                        style={{ fill: '#d9dadc' }}\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Tocar</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n            <ContextMenuItem onClick={handleSeeMusic}>\r\n                <ContextMenuTextContainer>\r\n                    <Eye\r\n                        size={18}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Ver sobre</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n            <ContextMenuItem\r\n                onMouseEnter={() => setIsPlaylist(true)}\r\n                onMouseLeave={() => setTimeout(() => {\r\n                    setIsPlaylist(false)\r\n                }, 200)}\r\n            >\r\n                <ContextMenuTextContainer>\r\n                    <Plus\r\n                        size={18}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Adicionar á playlist</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n                <Play\r\n                    size={16}\r\n                    color=\"#d9dadc\"\r\n                    style={{ fill: '#d9dadc' }}\r\n                />\r\n            </ContextMenuItem>\r\n            <ContextMenuItem>\r\n                <ContextMenuTextContainer>\r\n                    <Share\r\n                        size={18}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Compartilhar (Não funciona)</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n            <ContextMenuItem onClick={handleAddRow}>\r\n                <ContextMenuTextContainer>\r\n                    <ArrowUp\r\n                        size={18}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Adicionar á fila</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n        </ContextMenuContainer>\r\n        {isPlaylist ? <ContextMenuContainer\r\n            onMouseEnter={() => setTimeout(() => {\r\n                setIsPlaylist(true)\r\n            }, 200)}\r\n            x={props.x + 223}\r\n            y={props.y + 40}\r\n        >\r\n            {playlists.map((playlist, index) => <ContextMenuItem\r\n                key={index}\r\n                onClick={saveMusic(index) as any}\r\n            >\r\n                <ContextMenuTextContainer>\r\n                    <ContextMenuText>{playlist.name}</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>)}\r\n        </ContextMenuContainer> : null}\r\n    </Fragment> : null\r\n}\r\n\r\nexport default ContextMenuMusic","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useRef, ChangeEvent } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport {\r\n    Eye,\r\n    Share,\r\n    ArrowLeft,\r\n    Edit,\r\n    Play,\r\n    ArrowUp,\r\n    ArrowDown,\r\n    Trash2,\r\n    Plus\r\n} from 'react-feather'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    ReturnContainer,\r\n    ReturnButton,\r\n    PlayerContainer,\r\n    InfoContainer,\r\n    InfoImg,\r\n    InfoMusicContainer,\r\n    InfoName,\r\n    InfoNameInput,\r\n    ErrorContainer,\r\n    ErrorMessage,\r\n    InfoMusics,\r\n    PlayButton,\r\n    MusicsContainer,\r\n    MusicItem,\r\n    MusicConfig,\r\n    MusicImage,\r\n    MusicDrag\r\n} from './styles'\r\n\r\nimport ContextMenuMusic from '../../components/ContextMenuMusic'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\nconst initialState: Music = {\r\n    access: 0,\r\n    description: '',\r\n    keywords: [],\r\n    music_background: '',\r\n    name: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    },\r\n    id: 0,\r\n    createdAt: '',\r\n    editable: false\r\n}\r\n\r\nconst initialStatePlaylist: Playlist = {\r\n    id: 0,\r\n    musics: [],\r\n    name: '',\r\n    public: false,\r\n    editable: false\r\n}\r\n\r\nfunction Playlist(): JSX.Element {\r\n\r\n    const history = useHistory()\r\n    const params = useParams() as any\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [contextMenu, setContextMenu] = useState<boolean>(false)\r\n    const [contextMenuCoordinates, setContextMenuCoordinates] = useState<CustomCoordinates>({\r\n        x: -500,\r\n        y: -500\r\n    })\r\n    const [contextMenuMusic, setContextMenuMusic] = useState<Music>(initialState)\r\n\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n    const [hasImg, setHasImg] = useState<boolean>(false)\r\n    const [musics, setMusics] = useState<Array<Music>>([])\r\n\r\n    function treatTypeName(): string {\r\n        const treated: string = params.type[0].toUpperCase()\r\n        return treated + params.type.slice(1, params.type.length)\r\n    }\r\n\r\n    function handleSeeMusic(id: number): Function {\r\n        return function() {\r\n            history.push(`/app/music/${id}`)\r\n        }\r\n    }\r\n\r\n    function handleContextMenu(music: Music): Function {\r\n        return function(evt: MouseEvent) {\r\n            if (evt.button === 2) {\r\n                setContextMenu(true)\r\n                setContextMenuMusic(music)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleGoBack(): void {\r\n        history.goBack()\r\n    }\r\n\r\n    function handlePlayPlaylist(): Function {\r\n        return function() {\r\n            dispatch({ type: 'disactive-music-is-loaded' })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'rename-playlist', payload: treatTypeName() })\r\n                dispatch({ type: 'change-playlist', payload: musics })\r\n                dispatch({ type: 'active-playlist' })\r\n                dispatch({ type: 'active-music-is-loaded' })\r\n            }, 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            try {\r\n                const { data } = await api.get(`/audio/type/${params.type}`)\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    setMusics(data)\r\n                }\r\n            } catch(err) {\r\n                setError(true)\r\n                setErrorMessage('Ocorreu um erro')\r\n            }\r\n        }\r\n        async function getImg() {\r\n            try {\r\n                const { data } = await api.get(`${url}/types-img/${params.type}.jpeg`)\r\n                if (!data || data.error) {\r\n                    setHasImg(false)\r\n                } else {\r\n                    setHasImg(true)\r\n                }\r\n            } catch(err) {\r\n                setHasImg(false)\r\n            }\r\n        }\r\n\r\n        function click() {\r\n            setContextMenu(false)\r\n            setContextMenuCoordinates({\r\n                x: -500,\r\n                y: -500\r\n            })\r\n        }\r\n        function contextMenu(evt: MouseEvent) {\r\n            const config: CustomCoordinates = {\r\n                x: evt.x,\r\n                y: 0\r\n            }\r\n            if (evt.y > (window.innerHeight / 100) * 85) {\r\n                config.y = evt.y - 100\r\n            } else {\r\n                config.y = evt.y - 30\r\n            }\r\n            setContextMenuCoordinates(config)\r\n        }\r\n        document.addEventListener('click', click)\r\n        document.addEventListener('contextmenu', contextMenu)\r\n        \r\n        run()\r\n        getImg()\r\n        return () => {\r\n            document.removeEventListener('click', click)\r\n            document.removeEventListener('contextmenu', contextMenu)\r\n        }\r\n    }, [params])\r\n\r\n    return <Container>\r\n        <ContextMenuMusic\r\n            visible={contextMenu}\r\n            x={contextMenuCoordinates.x}\r\n            y={contextMenuCoordinates.y}\r\n            music={contextMenuMusic}\r\n        />\r\n        <ReturnContainer>\r\n            <ReturnButton onClick={handleGoBack}>\r\n                <ArrowLeft\r\n                    color=\"#d9dadc\"\r\n                    size={20}\r\n                />\r\n            </ReturnButton>\r\n        </ReturnContainer>\r\n        <PlayerContainer>\r\n            <InfoContainer>\r\n                <InfoImg\r\n                    src={hasImg ? `${url}/types-img/${params.type}.jpeg` : logo}\r\n                />\r\n                <InfoMusicContainer>\r\n                    <InfoName>{treatTypeName()}</InfoName>\r\n                    <InfoMusics>{musics.length} Música{musics.length < 2 ? '' : 's'}</InfoMusics>\r\n                </InfoMusicContainer>\r\n                {error ? <ErrorContainer>\r\n                    <ErrorMessage>{errorMessage}</ErrorMessage>\r\n                </ErrorContainer> : null}\r\n            </InfoContainer>\r\n            {musics.length > 0 ? <PlayButton onClick={handlePlayPlaylist() as any}>\r\n                <Play\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n            </PlayButton> : null}\r\n        </PlayerContainer>\r\n        <MusicsContainer>\r\n            {musics.map((music, index) => <MusicItem\r\n                key={index}\r\n                onMouseDown={handleContextMenu(music) as any}\r\n            >\r\n                <MusicConfig onClick={handleSeeMusic(music.id) as any}>\r\n                    <MusicImage\r\n                        src={`${url}/music-bg/${music.music_background}`}\r\n                    />\r\n                    <div style={{ textAlign: 'left' }}>\r\n                        <strong>{music.name}</strong>\r\n                        <p>Enviado por: {music.user_owner.name}</p>\r\n                        <p>Acessos: {music.access}</p>\r\n                    </div>\r\n                </MusicConfig>\r\n            </MusicItem>)}\r\n        </MusicsContainer>\r\n    </Container>\r\n}\r\n\r\nexport default Playlist","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n`\r\n\r\nexport const Title = styled.h2`\r\n    font-size: 18px;\r\n    color: #d9dadc;\r\n    margin-bottom: 5px;\r\n`\r\n\r\nexport const MusicsContainer = styled.div`\r\n    width: 100%;\r\n    height: 165px;\r\n\r\n    display: flex;\r\n\r\n    overflow-x: auto;\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 1px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\nexport const MusicItem: any = styled.button`\r\n    position: relative;\r\n    width: 194.56px;\r\n    height: 90%;\r\n\r\n    margin: 0 10px;\r\n    padding: 0 10px;\r\n    border-radius: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    & > button {\r\n        display: none;\r\n        opacity: 0;\r\n        transition: opacity .2s linear;\r\n    }\r\n\r\n    &:hover {\r\n        background-color: rgba(255, 255, 255, 0.2);\r\n    }\r\n\r\n    &:hover > button {\r\n        display: block;\r\n        opacity: 1;\r\n    }\r\n`\r\n\r\nexport const MusicItemImage: any = styled.img`\r\n    width: 184.56px;\r\n    height: 78%;\r\n\r\n    border-radius: 10px;\r\n\r\n    background-clip: clip;\r\n\r\n    align-self: center;\r\n`\r\n\r\nexport const MusicItemButton = styled.button`\r\n    position: absolute;\r\n    left: 75%;\r\n    bottom: 25%;\r\n\r\n    width: 30px;\r\n    height: 30px;\r\n    \r\n    border-radius: 50%;\r\n\r\n    background-color: #4c43df;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    transition: background-color .2s linear; \r\n\r\n    & > svg {\r\n        fill: #d9dadc;\r\n    }\r\n\r\n    &:hover {\r\n        background-color: #2c23bf;\r\n    }\r\n\r\n    &:active {\r\n        background-color: #09039e;\r\n    }\r\n`\r\n\r\nexport const MusicItemName: any = styled.p`\r\n    color: #d9dadc;\r\n`","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Play\r\n} from 'react-feather'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    Title,\r\n    MusicsContainer,\r\n    MusicItem,\r\n    MusicItemImage,\r\n    MusicItemButton,\r\n    MusicItemName\r\n} from './styles'\r\n\r\nimport ContextMenuMusic from '../../components/ContextMenuMusic'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nconst initialState: Music = {\r\n    access: 0,\r\n    description: '',\r\n    keywords: [],\r\n    music_background: '',\r\n    name: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    },\r\n    id: 0,\r\n    createdAt: '',\r\n    editable: false\r\n}\r\n\r\nfunction Home(): JSX.Element {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const [musics, setMusics] = useState<Array<Music>>([])\r\n\r\n    const [contextMenuVisible, setContextMenuVisible] = useState<boolean>(false)\r\n    const [contextMenuCoordinates, setContextMenuCoordinates] = useState<CustomCoordinates>({\r\n        x: 0,\r\n        y: 0\r\n    })\r\n    const [actualMusic, setActualMusic] = useState<Music>(initialState)\r\n\r\n    function handleSeeMusic(id: number): Function {\r\n        return function() {\r\n            history.push(`/app/music/${id}`)\r\n        }\r\n    }\r\n\r\n    function handleMouseDown(music: Music): Function {\r\n        return function(evt: MouseEvent) {\r\n            if (evt.button === 2) {\r\n                setContextMenuVisible(true)\r\n                setActualMusic(music)\r\n            }\r\n        }\r\n    }\r\n\r\n    function playMusic(music: Music): Function {\r\n        return function() {\r\n            dispatch({ type: 'disactive-music-is-loaded' })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'change-music', payload: music })\r\n                dispatch({ type: 'active-music-is-loaded' })\r\n            }, 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            try {\r\n                function sortMusic(music1: Music, music2: Music): number {\r\n                    if (music1.access > music2.access) {\r\n                        return -1\r\n                    }\r\n                    if (music1.access < music2.access) {\r\n                        return 1\r\n                    }\r\n                    if (music1.access === music2.access) {\r\n                        return 0\r\n                    }\r\n                    return 0\r\n                }\r\n\r\n                const { data } = await api.get('/music/recents')\r\n                if (!data.error) {\r\n                    const divider = data.length / 5\r\n\r\n                    let musics1: Array<Music> = data.slice(0, divider)\r\n                    let musics2: Array<Music> = data.slice(divider, divider * 2)\r\n                    let musics3: Array<Music> = data.slice(divider * 2, divider * 3)\r\n                    let musics4: Array<Music> = data.slice(divider * 3, divider * 4)\r\n                    let musics5: Array<Music> = data.slice(divider * 4, data.length)\r\n\r\n                    musics1 = musics1.sort(sortMusic)\r\n                    musics2 = musics2.sort(sortMusic)\r\n                    musics3 = musics3.sort(sortMusic)\r\n                    musics4 = musics4.sort(sortMusic)\r\n                    musics5 = musics5.sort(sortMusic)\r\n\r\n                    setMusics([...musics1, ...musics2, ...musics3, ...musics4, ...musics5])\r\n                }\r\n            } catch(err) {\r\n                alert('Um erro ocorreu ao carregar as músicas recentes.')\r\n            }\r\n        }\r\n        run()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        function click() {\r\n            setContextMenuVisible(false)\r\n            setContextMenuCoordinates({\r\n                x: -500,\r\n                y: -500\r\n            })\r\n        }\r\n        function contextMenu(evt: MouseEvent) {\r\n            const config: CustomCoordinates = {\r\n                x: evt.x,\r\n                y: 0\r\n            }\r\n            if (evt.y > (window.innerHeight / 100) * 85) {\r\n                config.y = evt.y - 100\r\n            } else {\r\n                config.y = evt.y - 30\r\n            }\r\n            setContextMenuCoordinates(config)\r\n        }\r\n        document.addEventListener('click', click)\r\n        document.addEventListener('contextmenu', contextMenu)\r\n        return () => {\r\n            document.removeEventListener('click', click)\r\n            document.removeEventListener('contextmenu', contextMenu)\r\n        }\r\n    }, [])\r\n\r\n    return <Container>\r\n        <ContextMenuMusic\r\n            visible={contextMenuVisible}\r\n            x={contextMenuCoordinates.x}\r\n            y={contextMenuCoordinates.y}\r\n            music={actualMusic}\r\n        />\r\n        <Title>Músicas recentes</Title>\r\n        <MusicsContainer>\r\n            {musics.map(music => <MusicItem\r\n                onMouseDown={handleMouseDown(music) as any}\r\n                key={music.name_upload}\r\n                onDoubleClick={playMusic(music) as any}>\r\n                <MusicItemImage\r\n                    onClick={handleSeeMusic(music.id) as any}\r\n                    src={`${url}/music-bg/${music.music_background}`}\r\n                />\r\n                <MusicItemButton onClick={playMusic(music) as any}>\r\n                    <Play\r\n                        color=\"#d9dadc\"\r\n                        size={20}\r\n                    />\r\n                </MusicItemButton>\r\n                    <MusicItemName onClick={handleSeeMusic(music.id) as any}>{music.name}</MusicItemName>\r\n                    <MusicItemName onClick={handleSeeMusic(music.id) as any}>\r\n                        <strong>Acessos:{' '}</strong>\r\n                        {music.access}\r\n                    </MusicItemName>\r\n            </MusicItem>)}\r\n        </MusicsContainer>\r\n    </Container>\r\n}\r\n\r\nexport default Home","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const InputContainer: any = styled.label`\r\n    width: ${(props: any) => props.cwidth};\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    cursor: pointer;\r\n`\r\n\r\nexport const Input: any = styled.input`\r\n    color: #d9dadc;\r\n    padding: 5 10px;\r\n    height: 20px;\r\n    border-radius: 5px;\r\n\r\n    ${(props: any) => props.cwidth ? `width: ${props.cwidth};` : ''}\r\n\r\n    margin: 0 5px;\r\n\r\n    font-size: 16px;\r\n\r\n    &:hover {\r\n        border: 1px solid #d9dadc;\r\n    }\r\n    &:focus {\r\n        border: 1px solid #d9dadc;\r\n    }\r\n`\r\n\r\nexport const Header = styled.header`\r\n    width: 100%;\r\n    height: 5%;\r\n\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n`\r\n\r\nexport const Main = styled.main`\r\n    width: 100%;\r\n    height: 35%;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n`\r\n\r\nexport const MainImg = styled.img`\r\n    width: 260px;\r\n    height: 130px;\r\n    border-radius: 10px;\r\n`\r\n\r\nexport const MainInfoContainer = styled.div`\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nexport const MainInfo = styled.div`\r\n    width: 170px;\r\n    height: 130px;\r\n\r\n    margin: 10px;\r\n\r\n    color: #d9dadc;\r\n    font-size: 18px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n`\r\n\r\nexport const MainInfoAvatarContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nexport const MainInfoAvatar = styled.img`\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 20px;\r\n\r\n    margin-right: 5px;\r\n`\r\n\r\nexport const MainInfoName = styled.p`\r\n    font-size: 16px;\r\n`\r\n\r\nexport const MainPlayContainer = styled.div`\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: flex-end;\r\n`\r\n\r\nexport const MainPlayType = styled.p`\r\n    background-color: #4c43df;\r\n    color: #d9dadc;\r\n\r\n    font-weight: bold;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n\r\n    transform: translateY(-15px);\r\n`\r\n\r\nexport const MainPlayButton = styled.button`\r\n    width: 45px;\r\n    height: 45px;\r\n    border-radius: 50%;\r\n\r\n    background-color: #4c43df;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    margin: 10px;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    & > svg {\r\n        fill: #d9dadc;\r\n    }\r\n    \r\n    &:hover {\r\n        background-color: #2c23bf;\r\n    }\r\n    &:active {\r\n        background-color: #09039e;\r\n    }\r\n`\r\n\r\nexport const Footer = styled.footer`\r\n    width: 100%;\r\n    height: 60%;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    color: #d9dadc;\r\n`\r\n\r\nexport const FooterItem = styled.div`\r\n    margin: 10px 0;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n`","import React, { useState, useEffect, useRef } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport {\r\n    ArrowLeft,\r\n    Play,\r\n    Edit\r\n} from 'react-feather'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    InputContainer,\r\n    Input,\r\n    Header,\r\n    Main,\r\n    MainImg,\r\n    MainInfoContainer,\r\n    MainInfo,\r\n    MainInfoAvatarContainer,\r\n    MainInfoAvatar,\r\n    MainInfoName,\r\n    MainPlayContainer,\r\n    MainPlayType,\r\n    MainPlayButton,\r\n    Footer,\r\n    FooterItem\r\n} from './styles'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\ninterface Error {\r\n    error: boolean\r\n    message: string\r\n}\r\n\r\nconst initialState: Music = {\r\n    access: 0,\r\n    description: '',\r\n    id: 0,\r\n    keywords: [],\r\n    music_background: '',\r\n    name: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    },\r\n    createdAt: '',\r\n    editable: false\r\n}\r\n\r\nfunction Music(): JSX.Element {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const { id } = useParams() as any\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const nameInput = useRef<any>()\r\n    const descriptionInput = useRef<any>()\r\n    const keywordsInput = useRef<any>()\r\n\r\n    const [loaded, setLoaded] = useState<boolean>(false)\r\n\r\n    const [music, setMusic] = useState<Music>(initialState)\r\n    const [error, setError] = useState<Error>()\r\n\r\n    const [initialName, setInitialName] = useState<string>('')\r\n    const [name, setName] = useState<string>('')\r\n    const [initialDescription, setInitialDescription] = useState<string>('')\r\n    const [description, setDescription] = useState<string>('')\r\n    const [initialKeywords, setInitialKeywords] = useState<string>('')\r\n    const [keywords, setKeywords] = useState<string>('')\r\n\r\n    function treatType() {\r\n        const { type } = music\r\n        const letter = type[0]\r\n        return letter.toUpperCase() + type.slice(1, type.length)\r\n    }\r\n\r\n    function treatTime(time: number): string {\r\n        if (time > 9) {\r\n            return `${time}`\r\n        } else {\r\n            return `0${time}`\r\n        }\r\n    }\r\n\r\n    function getDate(): string {\r\n        const createdAt = new Date(music.createdAt)\r\n\r\n        const day = treatTime(createdAt.getDate())\r\n        const month = treatTime(createdAt.getMonth())\r\n        const year = createdAt.getFullYear()\r\n\r\n        const hours = treatTime(createdAt.getHours())\r\n        const minutes = treatTime(createdAt.getMinutes())\r\n        return `${hours}:${minutes} - ${day}/${month}/${year}`\r\n    }\r\n\r\n    function goBack() {\r\n        history.goBack()\r\n    }\r\n\r\n    async function handleSaveName() {\r\n        if (name !== initialName) {\r\n            try {\r\n                const config: any = {}\r\n                config.name_upload = music.name_upload\r\n                config.name = name\r\n    \r\n                const { data } = await api.patch('/audio', config, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    document.title = `${name} - Aram Music`\r\n                    setInitialName(name)\r\n                }\r\n            } catch(err) {\r\n                alert('Ocorreu um erro')\r\n            }\r\n        }\r\n    }\r\n\r\n    async function handleSaveDescription() {\r\n        if (description !== initialDescription) {\r\n            try {\r\n                const config: any = {}\r\n                config.name_upload = music.name_upload\r\n                config.description = description\r\n    \r\n                const { data } = await api.patch('/audio', config, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    setInitialDescription(description)\r\n                }\r\n            } catch(err) {\r\n                alert('Ocorreu um erro')\r\n            }\r\n        }\r\n    }\r\n\r\n    async function handleSaveKeywords() {\r\n        if (keywords !== initialKeywords) {\r\n            try {\r\n                const config: any = {}\r\n                config.name_upload = music.name_upload\r\n                config.keywords = keywords\r\n    \r\n                const { data } = await api.patch('/audio', config, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    setInitialKeywords(keywords)\r\n                }\r\n            } catch(err) {\r\n                alert('Ocorreu um erro')\r\n            }\r\n        }\r\n    }\r\n\r\n    function handlePlayMusic() {\r\n        dispatch({ type: 'disactive-music-is-loaded' })\r\n        setTimeout(() => {\r\n            dispatch({ type: 'change-music', payload: music })\r\n            dispatch({ type: 'active-music-is-loaded' })\r\n        }, 1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            try {\r\n                const { data } = await api.get(`/music/${id}`, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    setError(data)\r\n                } else {\r\n                    document.title = `${data.name} - Aram Music`\r\n                    setMusic(data)\r\n                    setInitialName(data.name)\r\n                    setName(data.name)\r\n                    setInitialDescription(data.description)\r\n                    setDescription(data.description)\r\n                    setInitialKeywords(data.keywords.join(', '))\r\n                    setKeywords(data.keywords.join(', '))\r\n                }\r\n                setLoaded(true)\r\n            } catch(err) {\r\n                alert('Ocorreu um erro ao carregar a música')\r\n            }\r\n        }\r\n        run()\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        function keydown(evt: KeyboardEvent) {\r\n            if (evt.code === 'Enter') {\r\n                if (nameInput.current) {\r\n                    nameInput.current.blur()\r\n                }\r\n                if (descriptionInput.current) {\r\n                    descriptionInput.current.blur()\r\n                }\r\n                if (keywordsInput.current) {\r\n                    keywordsInput.current.blur()\r\n                }\r\n            }\r\n        }\r\n        document.addEventListener('keydown', keydown)\r\n        return () => {\r\n            document.removeEventListener('keydown', keydown)\r\n        }\r\n    }, [])\r\n\r\n    if (!loaded) {\r\n        return <Container/>\r\n    }\r\n\r\n    if (error) {\r\n        if (error.error) {\r\n            return <Container\r\n                style={{ justifyContent: 'center', alignItems: 'center' }}\r\n            >\r\n                <img\r\n                    src={logo}\r\n                    style={{ width: 80, height: 80 }}\r\n                />\r\n                <h2\r\n                    style={{\r\n                        color: '#4c43df'\r\n                    }}\r\n                >{error.message}</h2>\r\n            </Container>\r\n        }\r\n    }\r\n\r\n    return <Container>\r\n        <Header>\r\n            <button onClick={goBack}>\r\n                <ArrowLeft\r\n                    size={20}\r\n                    color=\"#d9dadc\"\r\n                />\r\n            </button>\r\n        </Header>\r\n        <Main>\r\n            <MainInfoContainer>\r\n                <MainImg\r\n                    src={`${url}/music-bg/${music.music_background}`}\r\n                />\r\n                <MainInfo>\r\n                    <div>\r\n                        {music.editable ? <InputContainer cwidth={'225px'}>\r\n                            <Input\r\n                                ref={nameInput}\r\n                                maxLength={30}\r\n                                onBlur={handleSaveName}\r\n                                onChange={(e: any) => setName(e.target.value)}\r\n                                value={name}\r\n                                placeholder=\"Nome\"\r\n                            />\r\n                            <Edit\r\n                                size={16}\r\n                                color=\"#d9dadc\"\r\n                            />\r\n                        </InputContainer> :\r\n                        <p>{music.name}</p>}\r\n                    </div>\r\n                    <MainInfoAvatarContainer>\r\n                        <MainInfoAvatar\r\n                            src={music.user_owner.avatar ? `${url}/avatar/${music.user_owner.avatar}` : logo}\r\n                        />\r\n                        <div>\r\n                            <MainInfoName>Enviado por:</MainInfoName>\r\n                            <MainInfoName><strong>{music.user_owner.name}</strong></MainInfoName>\r\n                        </div>\r\n                    </MainInfoAvatarContainer>\r\n                </MainInfo>\r\n            </MainInfoContainer>\r\n            <MainPlayContainer>\r\n                <MainPlayType>{treatType()}</MainPlayType>\r\n                <MainPlayButton onClick={handlePlayMusic}>\r\n                    <Play\r\n                        size={20}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                </MainPlayButton>\r\n            </MainPlayContainer>\r\n        </Main>\r\n        <Footer>\r\n            <FooterItem>\r\n                <strong>Descrição:</strong>\r\n                {music.editable ? <InputContainer cwidth={'80%'}>\r\n                    <Input\r\n                        ref={descriptionInput}\r\n                        cwidth={'95%'}\r\n                        maxLength={100}\r\n                        onBlur={handleSaveDescription}\r\n                        onChange={(e: any) => setDescription(e.target.value)}\r\n                        value={description}\r\n                        placeholder=\"Descrição\"\r\n                    />\r\n                    <Edit\r\n                        size={16}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                </InputContainer> : <p>{music.description}</p>}\r\n            </FooterItem>\r\n            <FooterItem>\r\n                <strong>Palavras-chaves:</strong>\r\n                {music.editable ? <InputContainer cwidth={'100%'}>\r\n                    <Input\r\n                        ref={keywordsInput}\r\n                        cwidth={'95%'}\r\n                        maxLength={400}\r\n                        onBlur={handleSaveKeywords}\r\n                        onChange={(e: any) => setKeywords(e.target.value)}\r\n                        value={keywords}\r\n                        placeholder=\"Palavras-chaves\"\r\n                    />\r\n                    <Edit\r\n                        size={16}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                </InputContainer> : <p>{music.keywords.join(', ')}</p>}\r\n            </FooterItem>\r\n            <FooterItem>\r\n                <p><strong>Acessos: </strong>{music.access}</p>\r\n            </FooterItem>\r\n            <FooterItem>\r\n                <strong>Data de envio:</strong>\r\n                <p>{getDate()}</p>\r\n            </FooterItem>\r\n        </Footer>\r\n    </Container>\r\n}\r\n\r\nexport default Music","import styled from 'styled-components'\r\n\r\nexport const Container: any = styled.div`\r\n    width: 100%;\r\n    height: ${(props: any) => props.shrink ? window.innerHeight - 100 : window.innerHeight}px;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    background-color: #616060;\r\n    \r\n    overflow: auto;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\nexport const MusicItem = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    width: 100%;\r\n    height: 50px;\r\n\r\n    background-color: rgba(255, 255, 255, 0.15);\r\n    margin: 5px 0;\r\n\r\n    box-sizing: border-box;\r\n    padding: 5px 15px;\r\n\r\n    cursor: pointer;\r\n`\r\n\r\nexport const MusicInfo: any = styled.div`\r\n    height: 50px;\r\n    width: 400px;\r\n\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n\r\n    display: flex;\r\n`\r\n\r\nexport const MusicImg = styled.img`\r\n    width: 60px;\r\n    height: 30px;\r\n`\r\n\r\nexport const MusicName = styled.p`\r\n    color: #d9dadc;\r\n    margin: 0 5px;\r\n`","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n    Edit,\r\n    Trash2\r\n} from 'react-feather'\r\n\r\nimport {\r\n    Container,\r\n    MusicItem,\r\n    MusicInfo,\r\n    MusicImg,\r\n    MusicName\r\n} from './styles'\r\n\r\nimport ContextMenuMusic from '../../components/ContextMenuMusic'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nconst initialState: Music = {\r\n    name: '',\r\n    description: '',\r\n    keywords: [],\r\n    access: 0,\r\n    createdAt: '',\r\n    editable: false,\r\n    id: 0,\r\n    music_background: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        name: '',\r\n        avatar: ''\r\n    }\r\n}\r\n\r\nconst initialStateCoordinates: CustomCoordinates = {\r\n    x: -500,\r\n    y: -500\r\n}\r\n\r\nfunction MyMusics(): JSX.Element {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n    const musicIsLoaded = useSelector((store: any) => store.musicIsLoaded)\r\n\r\n    const [actualMusic, setActualMusic] = useState<Music>(initialState)\r\n    const [contextMenuVisible, setContextMenuVisible] = useState<boolean>(false)\r\n    const [contextMenuCoordinates, setContextMenuCoordinates] = useState<CustomCoordinates>(initialStateCoordinates)\r\n\r\n    const [myMusics, setMyMusics] = useState<Array<Music>>([])\r\n\r\n    function handleSeeMusic(id: number): Function {\r\n        return function() {\r\n            history.push(`/app/music/${id}`)\r\n        }\r\n    }\r\n\r\n    function handleContextMenu(music: Music): Function {\r\n        return function() {\r\n            setActualMusic(music)\r\n            setContextMenuVisible(true)\r\n        }\r\n    }\r\n\r\n    function handleDeleteMusic(name_upload: string, index: number): Function {\r\n        return async function() {\r\n            try {\r\n                const { data } = await api.delete('/audio', {\r\n                    headers: {\r\n                        name_upload,\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    alert('Música deletada com sucesso.')\r\n                    dispatch({ type: 'update' })\r\n                    const newMyMusics = [...myMusics]\r\n                    newMyMusics.splice(index, 1)\r\n                    setMyMusics(newMyMusics)\r\n                }\r\n            } catch(err) {\r\n                alert('Ocorreu um erro ao deletar a música.')\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            try {\r\n                const { data } = await api.get('/music/my', {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                setMyMusics(data)\r\n            } catch(err) {\r\n                alert('Um erro ocorreu.')\r\n            }\r\n        }\r\n        run()\r\n        function contextMenu(evt: MouseEvent) {\r\n            setContextMenuCoordinates({\r\n                x: evt.x,\r\n                y: evt.y >= (window.innerHeight - 120) ? evt.y - 120 : evt.y\r\n            })\r\n        }\r\n        function click() {\r\n            setContextMenuCoordinates({\r\n                x: -500,\r\n                y: -500\r\n            })\r\n            setContextMenuVisible(false)\r\n        }\r\n        document.addEventListener('contextmenu', contextMenu)\r\n        document.addEventListener('click', click)\r\n        return () => {\r\n            document.removeEventListener('contextmenu', contextMenu)\r\n            document.removeEventListener('click', click)\r\n        }\r\n    }, [])\r\n\r\n    return <Container shrink={musicIsLoaded}>\r\n        <ContextMenuMusic\r\n            visible={contextMenuVisible}\r\n            x={contextMenuCoordinates.x}\r\n            y={contextMenuCoordinates.y}\r\n            music={actualMusic}\r\n        />\r\n        {myMusics.map((myMusic, index) => <MusicItem\r\n            onMouseDown={handleContextMenu(myMusic) as any}\r\n            key={myMusic.name_upload}>\r\n            <MusicInfo\r\n                onClick={handleSeeMusic(myMusic.id) as any}\r\n            >\r\n                <MusicImg\r\n                    src={`${url}/music-bg/${myMusic.music_background}`}\r\n                />\r\n                <div>\r\n                    <MusicName>{myMusic.name}</MusicName>\r\n                    <MusicName><strong>Acessos: </strong>{myMusic.access}</MusicName>\r\n                </div>\r\n            </MusicInfo>\r\n            <div>\r\n                <Edit\r\n                    onClick={handleSeeMusic(myMusic.id) as any}\r\n                    size={20}\r\n                    color=\"#d9dadc\"\r\n                />\r\n                <Trash2\r\n                    onClick={handleDeleteMusic(myMusic.name_upload, index) as any}\r\n                    size={20}\r\n                    color=\"#d9dadc\"\r\n                />\r\n            </div>\r\n        </MusicItem>)}\r\n    </Container>\r\n}\r\n\r\nexport default MyMusics","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const ReturnContainer = styled.div`\r\n    width: 100%;\r\n    height: 20px;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n`\r\n\r\nexport const ReturnButton = styled.button`\r\n    width: 30px;\r\n    height: 30px;\r\n`\r\n\r\nexport const PlayerContainer = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`\r\n\r\nexport const InfoContainer = styled.div`\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n`\r\n\r\nexport const InfoImg: any = styled.img`\r\n    width: ${(props: any) => props.hasImage ? 150 : 100}px;\r\n    height: ${(props: any) => props.hasImage ? 75 : 100}px;\r\n\r\n    margin: 0 10px;\r\n`\r\n\r\nexport const InfoMusicContainer = styled.div`\r\n    width: 50%;\r\n    height: 75px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const InfoName = styled.span`\r\n    color: #d9dadc;\r\n    font-weight: bold;\r\n`\r\n\r\nexport const InfoNameInput = styled.div`\r\n    border-radius: 10px;\r\n    padding: 1px 2.5px;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    & > input {\r\n        width: 80%;\r\n        font-weight: bold;\r\n        font-size: 16px;\r\n        color: #d9dadc;\r\n    }\r\n\r\n    &:hover {\r\n        border: 1px solid #d9dadc;\r\n    }\r\n\r\n    & > button {\r\n        margin: 0 5px;\r\n    }\r\n`\r\n\r\nexport const ErrorContainer = styled.div`\r\n    border: 1.5px solid #c82333;\r\n    border-radius: 10px;\r\n\r\n    width: 200px;\r\n    padding: 5px;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n    color: #c82333;\r\n`\r\n\r\nexport const InfoMusics = styled.span`\r\n    color: #d9dadc;\r\n`\r\n\r\nexport const PlayButton = styled.button`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-self: flex-end;\r\n\r\n    background-color: #4c43df;\r\n    border-radius: 50%;\r\n\r\n    width: 50px;\r\n    height: 50px;\r\n    margin: 20px;\r\n\r\n    & > svg {\r\n        fill: #d9dadc;\r\n    }\r\n    &:hover {\r\n        background-color: #2c23bf;\r\n    }\r\n    &:active {\r\n        background-color: #09039e;\r\n    }\r\n`\r\n\r\nexport const MusicsContainer = styled.div`\r\n    width: 100%;\r\n    height: 400px;\r\n    overflow: auto;\r\n\r\n    @media (max-height: 664px) {\r\n        height: 320px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 5px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\n\r\nexport const MusicItem: any = styled.button`\r\n    width: 100%;\r\n    height: 40px;\r\n    color: #d9dadc;\r\n    \r\n    border-radius: 10px;\r\n    margin: 10px 0;\r\n    font-size: 12px;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    &:hover {\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n    }\r\n    &:active {\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n`\r\n\r\nexport const MusicConfig: any = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n`\r\n\r\nexport const MusicImage = styled.img`\r\n    width: 80px;\r\n    height: 100%;\r\n    margin: 0 5px;\r\n`\r\n\r\nexport const MusicDrag = styled.div`\r\n    width: 100px;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n\r\n    & > button > svg {\r\n        margin-right: 10px;\r\n        transition: stroke .2s linear;\r\n    }\r\n\r\n    &:hover > button > svg {\r\n        stroke: #b9babc;\r\n    }\r\n\r\n    &:active > button > svg {\r\n        stroke: #a9aaac;\r\n    }\r\n`","import React, { useState, useEffect, useRef, ChangeEvent } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport {\r\n    Eye,\r\n    Share,\r\n    ArrowLeft,\r\n    Edit,\r\n    Play,\r\n    ArrowUp,\r\n    ArrowDown,\r\n    Trash2,\r\n    Plus\r\n} from 'react-feather'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    ReturnContainer,\r\n    ReturnButton,\r\n    PlayerContainer,\r\n    InfoContainer,\r\n    InfoImg,\r\n    InfoMusicContainer,\r\n    InfoName,\r\n    InfoNameInput,\r\n    ErrorContainer,\r\n    ErrorMessage,\r\n    InfoMusics,\r\n    PlayButton,\r\n    MusicsContainer,\r\n    MusicItem,\r\n    MusicConfig,\r\n    MusicImage,\r\n    MusicDrag\r\n} from './styles'\r\n\r\nimport ContextMenuMusic from '../../components/ContextMenuMusic'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\nconst initialState: Music = {\r\n    access: 0,\r\n    description: '',\r\n    keywords: [],\r\n    music_background: '',\r\n    name: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    },\r\n    id: 0,\r\n    createdAt: '',\r\n    editable: false\r\n}\r\n\r\nconst initialStatePlaylist: Playlist = {\r\n    id: 0,\r\n    musics: [],\r\n    name: '',\r\n    public: false,\r\n    editable: false\r\n}\r\n\r\nfunction Playlist(): JSX.Element {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const nameInput = useRef<any>()\r\n\r\n    const history = useHistory()\r\n    const { id } = useParams() as any\r\n\r\n    const dispatch = useDispatch()\r\n    const actualIndex: number = useSelector((store: any) => store.actualIndex)\r\n\r\n    const [contextMenu, setContextMenu] = useState<boolean>(false)\r\n    const [contextMenuCoordinates, setContextMenuCoordinates] = useState<CustomCoordinates>({\r\n        x: -500,\r\n        y: -500\r\n    })\r\n    const [contextMenuMusic, setContextMenuMusic] = useState<Music>(initialState)\r\n\r\n    const [loaded, setLoaded] = useState<boolean>(false)\r\n\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n    const [playlist, setPlaylist] = useState<Playlist>(initialStatePlaylist)\r\n    const [initialName, setInitialName] = useState<string>('')\r\n    const [name, setName] = useState<string>('')\r\n    const [musics, setMusics] = useState<Array<Music>>([])\r\n    const [owner, setOwner] = useState<string>('')\r\n\r\n    function handleSeeMusic(id: number): Function {\r\n        return function() {\r\n            history.push(`/app/music/${id}`)\r\n        }\r\n    }\r\n\r\n    function handleContextMenu(music: Music): Function {\r\n        return function(evt: MouseEvent) {\r\n            if (evt.button === 2) {\r\n                setContextMenu(true)\r\n                setContextMenuMusic(music)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleGoBack(): void {\r\n        history.goBack()\r\n    }\r\n\r\n    function handleChangeName(evt: ChangeEvent<HTMLInputElement>) {\r\n        setName(evt.target.value)\r\n    }\r\n\r\n    function handleKeyDown(evt: globalThis.KeyboardEvent) {\r\n        if (evt.code === 'Enter') {\r\n            nameInput.current.blur()\r\n        }\r\n    }\r\n\r\n    async function saveName() {\r\n        if (name !== initialName) {\r\n            try {\r\n                const { data } = await api.patch('/playlists/rename', {\r\n                    name: initialName,\r\n                    newName: name\r\n                }, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    dispatch({ type: 'rename-playlists', payload: name, index: actualIndex })\r\n                    setInitialName(name)\r\n                }\r\n            } catch(err) {\r\n                setError(true)\r\n                setErrorMessage('Ocorreu um erro ao renomear a playlist')\r\n            }\r\n        }\r\n    }\r\n\r\n    function handlePlayPlaylist(): Function {\r\n        return function() {\r\n            dispatch({ type: 'disactive-music-is-loaded' })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'rename-playlist', payload: initialName })\r\n                dispatch({ type: 'change-playlist', payload: musics })\r\n                dispatch({ type: 'active-playlist' })\r\n                dispatch({ type: 'active-music-is-loaded' })\r\n            }, 1)\r\n        }\r\n    }\r\n\r\n    function handleMoveMusic(index: number, type: 'up' | 'down'): Function {\r\n        return async function() {\r\n            const music: Music = musics[index]\r\n            const newMusics = [...musics]\r\n            switch (type) {\r\n                case 'up':\r\n                    try {\r\n                        const { data } = await api.patch('/playlists/move', {\r\n                            index,\r\n                            newIndex: index - 1,\r\n                            name: initialName\r\n                        }, {\r\n                            headers: {\r\n                                email,\r\n                                token\r\n                            }\r\n                        })\r\n                        if (data.error) {\r\n                            setError(true)\r\n                            setErrorMessage(data.message)\r\n                        } else {\r\n                            newMusics.splice(index, 1)\r\n                            newMusics.splice(index - 1, 0, music)\r\n                            setMusics(newMusics)\r\n                        }\r\n                    } catch(err) {\r\n                        setError(true)\r\n                        setErrorMessage('Ocorreu um erro ao mover a musica')\r\n                    }\r\n                    break\r\n                case 'down':\r\n                    try {\r\n                        const { data } = await api.patch('/playlists/move', {\r\n                            index,\r\n                            newIndex: index + 1,\r\n                            name: initialName\r\n                        }, {\r\n                            headers: {\r\n                                email,\r\n                                token\r\n                            }\r\n                        })\r\n                        if (data.error) {\r\n                            setError(true)\r\n                            setErrorMessage(data.message)\r\n                        } else {\r\n                            newMusics.splice(index, 1)\r\n                            newMusics.splice(index + 1, 0, music)\r\n                            setMusics(newMusics)\r\n                        }\r\n                    } catch(err) {\r\n                        setError(true)\r\n                        setErrorMessage('Ocorreu um erro ao mover a musica')\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleDeleteMusic(index: number): Function {\r\n        return async function() {\r\n            try {\r\n                const { data } = await api.patch('/playlists/delete', {\r\n                    index,\r\n                    name: initialName\r\n                }, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    const newMusics: Array<Music> = [...musics]\r\n                    newMusics.splice(index, 1)\r\n                    setMusics(newMusics)\r\n                    dispatch({ type: 'remove-playlists', index: actualIndex, payload: index })\r\n                }\r\n            } catch(err) {\r\n                setError(true)\r\n                setErrorMessage('Ocorreu um erro ao tentar deletar a música da playlist')\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleKeyDown)\r\n        return () => {\r\n            document.removeEventListener('keydown', handleKeyDown)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setLoaded(false)\r\n        async function run() {\r\n            const { data } = await api.get(`/playlists/${id}`, {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            })\r\n            if (data.error) {\r\n                setError(true)\r\n                setErrorMessage(data.message)\r\n            } else {\r\n                setError(false)\r\n                setErrorMessage('')\r\n                setPlaylist(data)\r\n                setInitialName(data.name)\r\n                setName(data.name)\r\n                setMusics(data.musics)\r\n                setOwner(data.owner)\r\n            }\r\n        }\r\n\r\n        function click() {\r\n            setContextMenu(false)\r\n            setContextMenuCoordinates({\r\n                x: -500,\r\n                y: -500\r\n            })\r\n        }\r\n        function contextMenu(evt: MouseEvent) {\r\n            const config: CustomCoordinates = {\r\n                x: evt.x,\r\n                y: 0\r\n            }\r\n            if (evt.y > (window.innerHeight / 100) * 80) {\r\n                config.y = evt.y - 120\r\n            } else {\r\n                config.y = evt.y - 30\r\n            }\r\n            setContextMenuCoordinates(config)\r\n        }\r\n        document.addEventListener('click', click)\r\n        document.addEventListener('contextmenu', contextMenu)\r\n        \r\n        run()\r\n        setLoaded(true)\r\n        return () => {\r\n            document.removeEventListener('click', click)\r\n            document.removeEventListener('contextmenu', contextMenu)\r\n        }\r\n    }, [id])\r\n\r\n    if (!loaded) {\r\n        return <Container/>\r\n    }\r\n\r\n    return <Container>\r\n        <ContextMenuMusic\r\n            visible={contextMenu}\r\n            x={contextMenuCoordinates.x}\r\n            y={contextMenuCoordinates.y}\r\n            music={contextMenuMusic}\r\n        />\r\n        <ReturnContainer>\r\n            <ReturnButton onClick={handleGoBack}>\r\n                <ArrowLeft\r\n                    color=\"#d9dadc\"\r\n                    size={20}\r\n                />\r\n            </ReturnButton>\r\n        </ReturnContainer>\r\n        <PlayerContainer>\r\n            <InfoContainer>\r\n                <InfoImg\r\n                    hasImage={!!musics[0]}\r\n                    src={musics[0] ? `${url}/music-bg/${musics[0].music_background}` : logo}\r\n                />\r\n                <InfoMusicContainer>\r\n                    {playlist.editable ?\r\n                        <InfoNameInput>\r\n                            <input\r\n                                ref={nameInput}\r\n                                value={name}\r\n                                maxLength={20}\r\n                                onChange={handleChangeName}\r\n                                onBlur={saveName}\r\n                            />\r\n                            <button onClick={() => nameInput.current.focus()}>\r\n                                <Edit\r\n                                    color=\"#d9dadc\"\r\n                                    size={20}\r\n                                />\r\n                            </button>\r\n                        </InfoNameInput> : \r\n                        <InfoName>{name}</InfoName>}\r\n                    <InfoMusics>{musics.length} Música{musics.length < 2 ? '' : 's'}</InfoMusics>\r\n                    <InfoMusics>Feita por: {owner}</InfoMusics>\r\n                </InfoMusicContainer>\r\n                {error ? <ErrorContainer>\r\n                    <ErrorMessage>{errorMessage}</ErrorMessage>\r\n                </ErrorContainer> : null}\r\n            </InfoContainer>\r\n            {musics.length > 0 ? <PlayButton onClick={handlePlayPlaylist() as any}>\r\n                <Play\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n            </PlayButton> : null}\r\n        </PlayerContainer>\r\n        <MusicsContainer>\r\n            {musics.map((music, index) => <MusicItem\r\n                key={index}\r\n                onMouseDown={handleContextMenu(music) as any}\r\n            >\r\n                <MusicConfig onClick={handleSeeMusic(music.id) as any}>\r\n                    <MusicImage\r\n                        src={`${url}/music-bg/${music.music_background}`}\r\n                    />\r\n                    <div style={{ textAlign: 'left' }}>\r\n                        <strong>{music.name}</strong>\r\n                        <p>Enviado por: {music.user_owner.name}</p>\r\n                        <p>Acessos: {music.access}</p>\r\n                    </div>\r\n                </MusicConfig>\r\n                <MusicDrag>\r\n                    {(index > 0 && playlist.editable) ? <button\r\n                        onClick={handleMoveMusic(index, 'up') as any}\r\n                    >\r\n                        <ArrowUp\r\n                            size={20}\r\n                            color=\"#d9dadc\"\r\n                        />\r\n                    </button> : null}\r\n                    {(index < musics.length - 1 && playlist.editable) ? <button\r\n                        onClick={handleMoveMusic(index, 'down') as any}\r\n                    >\r\n                        <ArrowDown\r\n                            size={20}\r\n                            color=\"#d9dadc\"\r\n                        />\r\n                    </button> : null}\r\n                    {playlist.editable ? <button\r\n                        onClick={handleDeleteMusic(index) as any}\r\n                    >\r\n                        <Trash2\r\n                            size={20}\r\n                            color=\"#d9dadc\"\r\n                        />\r\n                    </button> : null}\r\n                </MusicDrag>\r\n            </MusicItem>)}\r\n        </MusicsContainer>\r\n    </Container>\r\n}\r\n\r\nexport default Playlist","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n`\r\n\r\nexport const SearchContainer = styled.div`\r\n    width: 100%;\r\n    height: 5%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const SearchButton = styled.button`\r\n    background-color: transparent;\r\n`\r\n\r\nexport const SearchInput = styled.input`\r\n    width: 25%;\r\n    height: 80%;\r\n    background-color: #d9dadc;\r\n\r\n    margin-left: 10px;\r\n\r\n    border-radius: 15px;\r\n\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n`\r\n\r\nexport const MusicTypeButtonContainer = styled.div`\r\n    width: 100%;\r\n    height: ${() => (window.innerHeight / 100) * 66}px;\r\n\r\n    overflow: auto;\r\n\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\nexport const MusicTypeButton: any = styled.button`\r\n    background-image: linear-gradient(to right bottom, black, ${(props: any) => props.color || '#4c43df'} 15%);\r\n\r\n    width: 120px;\r\n    height: 120px;\r\n\r\n    margin: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n`\r\n\r\nexport const MusicTypeButtonName = styled.span`\r\n    color: #d9dadc;\r\n    font-weight: bold;\r\n`\r\n\r\nexport const MusicTypeButtonImage = styled.img`\r\n    width: 40px;\r\n    height: 40px;\r\n\r\n    margin-top: 40%;\r\n    margin-left: 50%;\r\n\r\n    transform: rotate(40deg);\r\n`","import React, { useState, useEffect } from 'react'\r\nimport { Search as SearchIcon } from 'react-feather'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    SearchButton,\r\n    SearchContainer,\r\n    SearchInput,\r\n    MusicTypeButtonContainer,\r\n    MusicTypeButton,\r\n    MusicTypeButtonName,\r\n    MusicTypeButtonImage\r\n} from './styles'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\ninterface MusicType {\r\n    label: string\r\n    value: string\r\n    img?: string\r\n    color?: string\r\n}\r\n\r\nfunction Search(): JSX.Element {\r\n\r\n    const history = useHistory()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [musicTypes, setMusicTypes] = useState<Array<MusicType>>([])\r\n    const [searchValue, setSearchValue] = useState<string>('')\r\n\r\n    function handleSearchByType(type: MusicType): Function {\r\n        return function () {\r\n            history.push(`/app/genre/${type.value}`)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            try {\r\n                const { data } = await api.get('/music-types')\r\n                setMusicTypes(data)\r\n            } catch(err) {\r\n                alert('Um erro ocorreu.')\r\n            }\r\n        }\r\n        run()\r\n    }, [])\r\n\r\n    return <Container>\r\n        <SearchContainer>\r\n            <SearchButton>\r\n                <SearchIcon\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n            </SearchButton>\r\n            <SearchInput\r\n                placeholder=\"Pesquise uma música\"\r\n                value={searchValue}\r\n                onChange={e => setSearchValue(e.target.value)}\r\n            />\r\n        </SearchContainer>\r\n        <MusicTypeButtonContainer>\r\n            {musicTypes.map(musicType => <MusicTypeButton\r\n                key={musicType.value}\r\n                color={musicType.color}\r\n                onClick={handleSearchByType(musicType) as any}\r\n            >\r\n                <MusicTypeButtonName>{musicType.label}</MusicTypeButtonName>\r\n                {musicType.img ? <MusicTypeButtonImage\r\n                    src={url + '/types-img/' + musicType.img}\r\n                /> : null}\r\n            </MusicTypeButton>)}\r\n        </MusicTypeButtonContainer>\r\n    </Container>\r\n}\r\n\r\nexport default Search","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    & > label {\r\n        display: flex;\r\n        justify-content: center;\r\n        margin: 10px 0;\r\n    }\r\n`\r\n\r\nexport const AvatarImageContainer = styled.div`\r\n    width: 60px;\r\n    height: 60px;\r\n\r\n    cursor: pointer;\r\n`\r\n\r\nexport const AvatarImage = styled.img`\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 30px;\r\n`\r\n\r\nexport const AvatarInput = styled.input`\r\n    width: 0;\r\n    height: 0;\r\n    display: none;\r\n`\r\n\r\nexport const UserInput = styled.input`\r\n    background-color: #d9dadc;\r\n    border-radius: 10px;\r\n\r\n    width: 200px;\r\n    \r\n    margin-left: 10px;\r\n    padding: 5px 10px;\r\n`\r\n\r\nexport const SaveButton = styled.button`\r\n    background-color: #218838;\r\n\r\n    color: #d9dadc;\r\n\r\n    padding: 10px 20px;\r\n    border-radius: 10px;\r\n    margin: 5px 0;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    &:hover {\r\n        background-color: #016818;\r\n    }\r\n\r\n    &:active {\r\n        background-color: #003800;\r\n    }\r\n`\r\n\r\nexport const ErrorContainer = styled.div`\r\n    width: 230px;\r\n    height: 40px;\r\n    background-color: #d9dadc;\r\n    border: 2px solid #c82333;\r\n    border-radius: 10px;\r\n\r\n    margin: 5px 0;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n    color: #c82333;\r\n`\r\n\r\nexport const OperationContainer = styled.div`\r\n    width: 250px;\r\n    height: 80px;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    margin-top: 10%;\r\n`\r\n\r\nexport const OperationLeave = styled.button`\r\n    background-color: #4c43df;\r\n    color: #d9dadc;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n`\r\n\r\nexport const OperationDelete = styled.button`\r\n    background-color: #c82333;\r\n    color: #d9dadc;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n`","import styled from 'styled-components'\r\n\r\nconst Divider: any = styled.div`\r\n    width: ${(props: any) => props.customWidth};\r\n    height: 2px;\r\n    margin: 10px 0;\r\n    background-color: #d9dadc;\r\n`\r\nexport default Divider","import React, { useState, useEffect, useRef } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    User as UserIcon,\r\n    AtSign,\r\n    Lock,\r\n    LogOut,\r\n    Trash2\r\n} from 'react-feather'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    AvatarImageContainer,\r\n    AvatarImage,\r\n    AvatarInput,\r\n    UserInput,\r\n    SaveButton,\r\n    ErrorContainer,\r\n    ErrorMessage,\r\n    OperationContainer,\r\n    OperationLeave,\r\n    OperationDelete\r\n} from './styles'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\nimport Divider from '../../components/Divider'\r\n\r\ninterface Avatar {\r\n    name: string\r\n    uri: string\r\n    type: string\r\n}\r\n\r\nfunction User(): JSX.Element {\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    const avatarInput = useRef<any>()\r\n\r\n    const [updates, setUpdates] = useState<number>(0)\r\n\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n    const [avatar, setAvatar] = useState<Avatar | null>()\r\n    const [name, setName] = useState<string>('')\r\n    const [email, setEmail] = useState<string>('')\r\n    const [password, setPassword] = useState<string>('')\r\n    const [newPassword, setNewPassword] = useState<string>('')\r\n\r\n    const [initialAvatar, setInitialAvatar] = useState<Avatar | null>()\r\n    const [initialName, setInitialName] = useState<string>('')\r\n    const [initialEmail, setInitialEmail] = useState<string>('')\r\n\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n\r\n    function handleChangeAvatar() {\r\n        if (avatarInput.current && avatarInput.current.files[0]) {\r\n            const file = avatarInput.current.files[0]\r\n            const fileReader = new FileReader()\r\n\r\n            fileReader.onloadend = () => {\r\n                setAvatar({\r\n                    name: file.name,\r\n                    type: file.type,\r\n                    uri: fileReader.result as string\r\n                })\r\n            }\r\n            fileReader.readAsDataURL(file)\r\n        }\r\n    }\r\n\r\n    async function handleSaveChanges() {\r\n        setLoading(true)\r\n        try {\r\n            const formData = new FormData()\r\n            formData.append('password', password)\r\n            if (name !== initialName) {\r\n                formData.append('name', name)\r\n            }\r\n            if (email !== initialEmail) {\r\n                formData.append('email', email)\r\n            }\r\n            if (avatar !== initialAvatar) {\r\n                formData.append('avatar', avatarInput.current.files[0])\r\n            }\r\n            if (newPassword) {\r\n                formData.append('newPassword', newPassword)\r\n            }\r\n            const { data } = await api.patch('/user', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/formdata',\r\n                    email: localStorage.getItem('email'),\r\n                    token: localStorage.getItem('token')\r\n                }\r\n            })\r\n            if (data.error) {\r\n                setError(true)\r\n                setErrorMessage(data.message)\r\n            } else {\r\n                if (email !== initialEmail) {\r\n                    localStorage.setItem('email', data.email)\r\n                    localStorage.setItem('token', data.token)\r\n                }\r\n                setPassword('')\r\n                setUpdates(updates + 1)\r\n            }\r\n        } catch(err) {\r\n            setError(true)\r\n            setErrorMessage('Um erro ocorreu.')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    function clean(): void {\r\n        dispatch({ type: 'clean-audio' })\r\n        dispatch({ type: 'clean-playlist' })\r\n        dispatch({ type: 'disactive-music-is-loaded' })\r\n        dispatch({ type: 'clean-music' })\r\n    }\r\n\r\n    function handleLeaveAccount(): void {\r\n        clean()\r\n\r\n        localStorage.removeItem('email')\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('rememberme')\r\n        history.push('/')\r\n    }\r\n\r\n    async function handleDeleteAccount() {\r\n        try {\r\n            const email = localStorage.getItem('email')\r\n            const token = localStorage.getItem('token')\r\n            const { data } = await api.delete('/user', {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            })\r\n            if (data.error) {\r\n                setError(true)\r\n                setErrorMessage(data.message)\r\n            } else {\r\n                alert('Conta deletada com sucesso.')\r\n                clean()\r\n                \r\n                localStorage.removeItem('email')\r\n                localStorage.removeItem('token')\r\n                localStorage.removeItem('rememberme')\r\n                history.push('/')\r\n            }\r\n        } catch(err) {\r\n            setError(true)\r\n            setErrorMessage('Um erro ocorreu.')\r\n        }\r\n    }\r\n\r\n    function verifyCanSave(): boolean {\r\n        if (avatar !== initialAvatar) {\r\n            return true\r\n        }\r\n        if (name !== initialName) {\r\n            return true\r\n        }\r\n        if (email !== initialEmail) {\r\n            return true\r\n        }\r\n        if (newPassword) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function run() {\r\n            const email = localStorage.getItem('email')\r\n            const token = localStorage.getItem('token')\r\n\r\n            try {\r\n                const { data } = await api.get('/user', {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    let avatar: Avatar | null\r\n                    if (data.avatar) {\r\n                        avatar = {\r\n                            name: data.avatar,\r\n                            uri: `${url}/avatar/${data.avatar}`,\r\n                            type: 'image/png'\r\n                        }\r\n                        setInitialAvatar(avatar)\r\n                        setAvatar(avatar)\r\n                    } else {\r\n                        setInitialAvatar(null)\r\n                        setAvatar(null)\r\n                    }\r\n\r\n                    setName(data.name)\r\n                    setInitialName(data.name)\r\n\r\n                    setEmail(data.email)\r\n                    setInitialEmail(data.email)\r\n                }\r\n            } catch(err) {\r\n                setError(true)\r\n                setErrorMessage('Um erro ocorreu.')\r\n            }\r\n        }\r\n        run()\r\n    }, [updates])\r\n\r\n    return <Container>\r\n        <label>\r\n            <AvatarImageContainer>\r\n                <AvatarImage\r\n                    src={avatar ? avatar.uri : logo}\r\n                />\r\n            </AvatarImageContainer>\r\n            <AvatarInput\r\n                ref={avatarInput}\r\n                type=\"file\"\r\n                accept=\"image/png,image/jpeg\"\r\n                onChange={handleChangeAvatar}\r\n            />\r\n        </label>\r\n        <label>\r\n            <UserIcon\r\n                color=\"#d9dadc\"\r\n                size={26}\r\n            />\r\n            <UserInput\r\n                disabled={loading}\r\n                type=\"text\"\r\n                placeholder=\"Nome\"\r\n                value={name}\r\n                onChange={({ target }) => setName(target.value)}\r\n            />\r\n        </label>\r\n        <label>\r\n            <AtSign\r\n                color=\"#d9dadc\"\r\n                size={26}\r\n            />\r\n            <UserInput\r\n                disabled={loading}\r\n                type=\"text\"\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={({ target }) => setEmail(target.value)}\r\n            />\r\n        </label>\r\n        <label>\r\n            <Lock\r\n                color=\"#d9dadc\"\r\n                size={26}\r\n            />\r\n            <UserInput\r\n                disabled={loading}\r\n                type=\"password\"\r\n                placeholder=\"Nova senha (opcional)\"\r\n                value={newPassword}\r\n                onChange={({ target }) => setNewPassword(target.value)}\r\n            />\r\n        </label>\r\n        <Divider\r\n            customWidth=\"30%\"\r\n        />\r\n        <label>\r\n            <Lock\r\n                color=\"#d9dadc\"\r\n                size={26}\r\n            />\r\n            <UserInput\r\n                disabled={loading}\r\n                type=\"password\"\r\n                placeholder=\"Senha para confirmar alterações\"\r\n                value={password}\r\n                onChange={({ target }) => setPassword(target.value)}\r\n            />\r\n        </label>\r\n        {error ? <ErrorContainer>\r\n            <ErrorMessage>{errorMessage}</ErrorMessage>\r\n        </ErrorContainer> : null}\r\n        {(verifyCanSave()) ? <SaveButton onClick={handleSaveChanges} disabled={loading}>\r\n            <span>Salvar alterações</span>\r\n        </SaveButton> : null}\r\n        <OperationContainer>\r\n            <OperationLeave onClick={handleLeaveAccount}>\r\n                <LogOut\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n                <span>Sair da conta</span>\r\n            </OperationLeave>\r\n            <OperationDelete onClick={handleDeleteAccount}>\r\n                <Trash2\r\n                    color=\"#d9dadc\"\r\n                    size={26}\r\n                />\r\n                <span>Deletar conta</span>\r\n            </OperationDelete>\r\n        </OperationContainer>\r\n    </Container>\r\n}\r\n\r\nexport default User","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #616060;\r\n`\r\n\r\nexport const Header = styled.header`\r\n    width: 100%;\r\n    height: 10%;\r\n\r\n    border-bottom: 1px solid #d9dadc;\r\n\r\n    box-sizing: border-box;\r\n    padding: 0 10px;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const HeaderImg = styled.img`\r\n    width: 40px;\r\n    height: 40px;\r\n    margin: 0 10px;\r\n`\r\n\r\nexport const HeaderText = styled.p`\r\n    color: #d9dadc;\r\n    font-weight: bold;\r\n`\r\n\r\nexport const Main: any = styled.main`\r\n    width: 100%;\r\n    height: ${(props: any) => props.shrink ? ((window.innerHeight / 100) * 90) - 100 : (window.innerHeight / 100) * 90}px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n\r\n    overflow: auto;\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\nexport const InputContainer = styled.div`\r\n    width: 300px;\r\n    margin: 5px;\r\n`\r\n\r\nexport const InputTitle = styled.p`\r\n    color: #d9dadc;\r\n    text-align: center;\r\n\r\n    margin: 5px 0;\r\n`\r\n\r\nexport const InputDiv = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nexport const Input = styled.input`\r\n    flex: 1;\r\n\r\n    background-color: #d9dadc;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n\r\n    margin: 0 5px;\r\n`\r\n\r\nexport const TextArea = styled.textarea`\r\n    flex: 1;\r\n    height: 100px;\r\n\r\n    background-color: #d9dadc;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n\r\n    margin: 0 5px;\r\n    resize: none;\r\n`\r\n\r\nexport const RadioContainer = styled.div`\r\n    width: 300px;\r\n    height: 70px;\r\n\r\n    overflow: auto;\r\n\r\n    display: flex;\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar {\r\n        width: 7px;\r\n        height: 5px;\r\n        background-color: #d9dadc;\r\n\r\n        border-radius: 10px;\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n        background: #3e3e3e;\r\n        border-radius: 10px;\r\n    }\r\n`\r\n\r\nexport const RadioItem = styled.label`\r\n    cursor: pointer;\r\n\r\n    margin: 0 5px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const RadioInput = styled.input`\r\n    width: 0;\r\n    height: 0;\r\n    opacity: 0;\r\n`\r\n\r\nexport const RadioInputDiv = styled.div`\r\n    width: 15px;\r\n    height: 15px;\r\n    border-radius: 7.5px;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    transition: background-color .2s linear;\r\n\r\n    & + p {\r\n        transition: color .2s linear;\r\n    }\r\n`\r\n\r\nexport const ButtonInput = styled.input`\r\n    width: 0;\r\n    height: 0;\r\n    opacity: 0;\r\n`\r\n\r\nexport const Button = styled.div`\r\n    padding: 5px 15px;\r\n\r\n    color: #d9dadc;\r\n    border: 1.5px solid #d9dadc;\r\n    border-radius: 10px;\r\n\r\n    cursor: pointer;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const ButtonImg = styled.img`\r\n    width: 100px;\r\n    height: 50px;\r\n`\r\n\r\nexport const ErrorContainer = styled.div`\r\n    border: 1.5px solid #c82333;\r\n    border-radius: 10px;\r\n\r\n    width: 200px;\r\n    padding: 5px;\r\n\r\n    margin-top: 5px;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n    color: #c82333;\r\n`\r\n\r\nexport const SuccessContainer = styled.div`\r\n    background-color: #28a745;\r\n    border-radius: 10px;\r\n\r\n    width: 200px;\r\n    padding: 5px;\r\n\r\n    margin-top: 5px;\r\n`\r\n\r\nexport const SuccessMessage = styled.p`\r\n    color: #d9dadc;\r\n`\r\n\r\nexport const SaveButton = styled.button`\r\n    border-radius: 10px;\r\n    background-color: #4c43df;\r\n    padding: 7px 15px;\r\n\r\n    &:hover {\r\n        background-color: #2c23bf;\r\n    }\r\n    &:active {\r\n        background-color: #09039e;\r\n    }\r\n`\r\n\r\nexport const SaveButtonText = styled.p`\r\n    color: #d9dadc;\r\n`","import React, { useState, useEffect, useRef } from 'react'\r\nimport {\r\n    Type,\r\n    AlignLeft,\r\n    Key,\r\n    Plus\r\n} from 'react-feather'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport {\r\n    Container,\r\n    Header,\r\n    HeaderImg,\r\n    HeaderText,\r\n    Main,\r\n    InputContainer,\r\n    InputTitle,\r\n    InputDiv,\r\n    Input,\r\n    TextArea,\r\n    RadioContainer,\r\n    RadioItem,\r\n    RadioInput,\r\n    RadioInputDiv,\r\n    ButtonInput,\r\n    Button,\r\n    ButtonImg,\r\n    ErrorContainer,\r\n    ErrorMessage,\r\n    SaveButton,\r\n    SaveButtonText,\r\n    SuccessContainer,\r\n    SuccessMessage\r\n} from './styles'\r\n\r\nimport Divider from '../../components/Divider'\r\n\r\nimport api from '../../services/api'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\ninterface File {\r\n    name: string\r\n    uri: string\r\n    type: string\r\n}\r\n\r\ninterface Type {\r\n    label: string\r\n    value: string\r\n}\r\n\r\nconst initialState: File = {\r\n    name: '',\r\n    uri: '',\r\n    type: ''\r\n}\r\n\r\nfunction Upload() {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const musicIsLoaded = useSelector((store: any) => store.musicIsLoaded)\r\n\r\n    const imageInput = useRef<any>()\r\n    const audioInput = useRef<any>()\r\n\r\n    const [musicTypes, setMusicTypes] = useState<Array<Type>>([])\r\n\r\n    const [name, setName] = useState<string>('')\r\n    const [description, setDescription] = useState<string>('')\r\n    const [keywords, setKeywords] = useState<string>('')\r\n    const [type, setType] = useState<string>('')\r\n\r\n    const [image, setImage] = useState<File>({...initialState})\r\n    const [audio, setAudio] = useState<File>({...initialState})\r\n\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n    const [success, setSuccess] = useState<boolean>(false)\r\n\r\n    function clean() {\r\n        setLoading(false)\r\n        \r\n        setError(false)\r\n        setErrorMessage('')\r\n    }\r\n\r\n    function handleGetImage() {\r\n        if (imageInput.current) {\r\n            if (imageInput.current.files[0]) {\r\n                const fileReader = new FileReader()\r\n                fileReader.readAsDataURL(imageInput.current.files[0])\r\n                fileReader.onloadend = () => {\r\n                    setImage({\r\n                        name: imageInput.current.files[0].name,\r\n                        uri: fileReader.result as string,\r\n                        type: imageInput.current.files[0].type\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleGetAudio() {\r\n        if (audioInput.current) {\r\n            if (audioInput.current.files[0]) {\r\n                setAudio({\r\n                    name: audioInput.current.files[0].name,\r\n                    uri: '',\r\n                    type: audioInput.current.files[0].type\r\n                })\r\n            }\r\n        }\r\n    }\r\n    async function handleSendMusic() {\r\n        try {\r\n            if (!name) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage('Coloque um nome por favor.')\r\n                return\r\n            }\r\n            if (!description) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage('Coloque uma descrição por favor.')\r\n                return\r\n            }\r\n            if (!keywords) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage('Coloque palavras-chaves por favor.')\r\n                return\r\n            }\r\n            if (!image.uri) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage('Selecione uma imagem por favor.')\r\n                return\r\n            }\r\n            if (!audio.name) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage('Selecione uma música por favor.')\r\n                return\r\n            }\r\n            setLoading(true)\r\n\r\n            const formData = new FormData()\r\n            formData.append('name', name)\r\n            formData.append('description', description)\r\n            formData.append('keywords', keywords)\r\n            formData.append('musicType', type)\r\n            formData.append('music_background', imageInput.current.files[0])\r\n            formData.append('music', audioInput.current.files[0])\r\n\r\n            const { data } = await api.post('/audio', formData, {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            })\r\n            if (data.error) {\r\n                setSuccess(false)\r\n                setError(true)\r\n                setErrorMessage(data.message)\r\n            } else {\r\n                setSuccess(true)\r\n                clean()\r\n            }\r\n        } catch(err) {\r\n            setSuccess(false)\r\n            setError(true)\r\n            setErrorMessage('Um erro ocorreu.')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        api.get('/music-types').then(({ data }) => {\r\n            setMusicTypes(data)\r\n        }).catch()\r\n    } , [])\r\n\r\n    return <Container>\r\n        <Header>\r\n            <HeaderImg\r\n                src={logo}\r\n            />\r\n            <HeaderText>Poste uma música de sua preferência</HeaderText>\r\n        </Header>\r\n        <Main shrink={musicIsLoaded}>\r\n            <InputContainer>\r\n                <InputTitle>Coloque um nome</InputTitle>\r\n                <InputDiv>\r\n                    <Type\r\n                        size={20}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <Input\r\n                        disabled={loading}\r\n                        value={name}\r\n                        onChange={(e: any) => setName(e.target.value)}\r\n                        maxLength={30}\r\n                        placeholder=\"Nome\"\r\n                    />\r\n                </InputDiv>\r\n            </InputContainer>\r\n            <InputContainer>\r\n                <InputTitle>Coloque a descrição</InputTitle>\r\n                <InputDiv>\r\n                    <AlignLeft\r\n                        size={20}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <Input\r\n                        disabled={loading}\r\n                        value={description}\r\n                        onChange={(e: any) => setDescription(e.target.value)}\r\n                        maxLength={100}\r\n                        placeholder=\"Descrição\"\r\n                    />\r\n                </InputDiv>\r\n            </InputContainer>\r\n            <InputContainer>\r\n                <InputTitle>Coloque palavras-chaves</InputTitle>\r\n                <InputDiv>\r\n                    <Key\r\n                        size={20}\r\n                        color=\"#d9dadc\"\r\n                    />\r\n                    <TextArea\r\n                        disabled={loading}\r\n                        value={keywords}\r\n                        onChange={(e: any) => setKeywords(e.target.value)}\r\n                        maxLength={400}\r\n                        placeholder=\"Palavras-chaves\"\r\n                    />\r\n                </InputDiv>\r\n            </InputContainer>\r\n            <RadioContainer>\r\n                {musicTypes.map(musicType => <RadioItem key={musicType.value}>\r\n                    <RadioInput\r\n                        type=\"radio\"\r\n                        name=\"music-type\"\r\n                        onChange={() => setType(musicType.value)}\r\n                        value={musicType.value}\r\n                    />\r\n                    <RadioInputDiv\r\n                        style={{\r\n                            backgroundColor: type === musicType.value ? '#4c43df' : '#d9dadc'\r\n                        }}\r\n                    />\r\n                    <p\r\n                        style={{\r\n                            color: type === musicType.value ? '#4c43df' : '#d9dadc'\r\n                        }}\r\n                    >{musicType.label}</p>\r\n                </RadioItem>)}\r\n            </RadioContainer>\r\n            <label>\r\n                <ButtonInput\r\n                    disabled={loading}\r\n                    onChange={handleGetImage}\r\n                    ref={imageInput}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                />\r\n                <Button>\r\n                    {image.uri ?\r\n                        <ButtonImg src={image.uri}\r\n                        /> :\r\n                        'Selecione uma foto de fundo para a música'\r\n                    }\r\n                </Button>\r\n            </label>\r\n            <label>\r\n                <ButtonInput\r\n                    disabled={loading}\r\n                    onChange={handleGetAudio}\r\n                    ref={audioInput}\r\n                    type=\"file\"\r\n                    accept=\"audio/*\"\r\n                />\r\n                <Button>\r\n                    {audio.name ?\r\n                    audio.name\r\n                    : <Plus\r\n                        size={20}\r\n                        color=\"#d9dadc\"\r\n                    />}\r\n                </Button>\r\n            </label>\r\n            {error ? <ErrorContainer>\r\n                <ErrorMessage>{errorMessage}</ErrorMessage>\r\n            </ErrorContainer> : null}\r\n            {success ? <SuccessContainer>\r\n                <SuccessMessage>Música enviada com sucesso</SuccessMessage>\r\n            </SuccessContainer> : null}\r\n            <Divider\r\n                customWidth=\"320px\"\r\n            />\r\n            <SaveButton disabled={loading} onClick={handleSendMusic}>\r\n                <SaveButtonText>Enviar música</SaveButtonText>\r\n            </SaveButton>\r\n        </Main>\r\n    </Container>\r\n}\r\n\r\nexport default Upload","import styled from 'styled-components'\r\n\r\nexport const Container: any = styled.div`\r\n    width: ${(props: any) => props.inserted ? '100%' : '100vw'};\r\n    height: ${(props: any) => props.inserted ? '100%' : '100vh'};\r\n    background-color: #e3e3e3;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n    font-size: 22px;\r\n    color: #4c43df;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    border: 1px solid #4c43df;\r\n    border-radius: 10px;\r\n    padding: 9px 14px;\r\n\r\n    color: #4c43df;\r\n\r\n    transition: all .2s linear;\r\n\r\n    &:hover {\r\n        color: #e3e3e3;\r\n        background-color: #4c43df;\r\n        border: 0;\r\n    }\r\n`","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport {\r\n    Container,\r\n    Title,\r\n    Button\r\n} from './styles'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\ninterface NotFoundInterface {\r\n    inserted?: boolean\r\n}\r\n\r\nfunction NotFound(props: NotFoundInterface): JSX.Element {\r\n    const history = useHistory()\r\n\r\n    function goBack() {\r\n        history.goBack()\r\n    }\r\n\r\n    return <Container inserted={props.inserted}>\r\n        <img src={logo} />\r\n        <Title>Página inexistente</Title>\r\n        <Button onClick={goBack}>\r\n            <p>Clique aqui para voltar</p>\r\n        </Button>\r\n    </Container>\r\n}\r\n\r\nexport default NotFound","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const AppContainer = styled.div`\r\n    flex: 1;\r\n    \r\n    display: flex;\r\n`\r\n\r\nexport const NavContainer = styled.nav`\r\n    width: 18%;\r\n    height: 100%;\r\n    background-color: #36393f;\r\n\r\n    border-right: 1px solid #d9dadc;\r\n\r\n    box-sizing: border-box;\r\n    padding: 0 10px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nexport const NavButtonContainer = styled.div`\r\n    flex: 1;\r\n    overflow: auto;\r\n`\r\n\r\nexport const NavButton = styled.button`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    margin: 10px 0;\r\n\r\n    & > svg {\r\n        transition: stroke .2s linear;\r\n    }\r\n`\r\n\r\nexport const NavButtonText: any = styled.p`\r\n    color: ${(props: any) => props.selected ? '#4c43df' : '#d9dadc'};\r\n    margin-left: 10px;\r\n\r\n    transition: color .2s linear;\r\n`\r\n\r\nexport const NavSubtitleContainer = styled.div`\r\n    width: 100%;\r\n    height: 20px;\r\n    \r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`\r\n\r\nexport const NavSubtitle = styled.p`\r\n    color: #d9dadc;\r\n`\r\n\r\nexport const NavPlaylistItem: any = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    \r\n    margin: 5px 0;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nexport const NavPlaylistImage = styled.img`\r\n    width: 50px;\r\n    height: 100%;\r\n    border-radius: 5px;\r\n`\r\n\r\nexport const NavPlaylistImageDiv = styled.div`\r\n    width: 50px;\r\n    height: 100%;\r\n`\r\n\r\nexport const NavPlaylistInfoContainer = styled.div`\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    margin-left: 10px;\r\n`\r\n\r\nexport const NavPlaylistInput = styled.input`\r\n    color: #d9dadc;\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n\r\n    width: 80%;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 10px;\r\n    padding: 0 5px;\r\n`\r\n\r\nexport const NavPlaylistName = styled.strong`\r\n    color: #d9dadc;\r\n    text-align: left;\r\n`\r\n\r\nexport const NavPlaylistInfo = styled.span`\r\n    color: #d9dadc;\r\n    text-align: left;\r\n`\r\n\r\nexport const DownloadButton = styled.a`\r\n    width: 100%;\r\n    height: 20px;\r\n    color: #d9dadc;\r\n\r\n    text-align: center;\r\n    text-decoration: none;\r\n\r\n    margin-bottom: 10px;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    & > span {\r\n        margin-left: 5px;\r\n    }\r\n`\r\n\r\nexport const ContentContainer = styled.div`\r\n    width: 82%;\r\n    height: 100%;\r\n`","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n    Edit,\r\n    Globe,\r\n    Lock,\r\n    Home,\r\n    Search,\r\n    Upload,\r\n    Music,\r\n    User as UserIcon,\r\n    Trash2,\r\n    Download,\r\n    PlusCircle\r\n} from 'react-feather'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport AudioController from '../../components/AudioController'\r\nimport Header from '../../components/Header'\r\nimport {\r\n    ContextMenuContainer,\r\n    ContextMenuItem,\r\n    ContextMenuTextContainer,\r\n    ContextMenuDivider,\r\n    ContextMenuText\r\n} from '../../components/ContextMenu'\r\n\r\nimport Genre from '../Genre'\r\nimport HomePage from '../Home'\r\nimport MusicPage from '../Music'\r\nimport MyMusics from '../MyMusics'\r\nimport Playlist from '../Playlist'\r\nimport SearchPage from '../Search'\r\nimport User from '../User'\r\nimport UploadPage from '../Upload'\r\nimport NotFound from '../NotFound'\r\n\r\nimport {\r\n    Container,\r\n    AppContainer,\r\n    NavContainer,\r\n    NavButtonContainer,\r\n    NavButton,\r\n    NavButtonText,\r\n    NavSubtitleContainer,\r\n    NavSubtitle,\r\n    NavPlaylistItem,\r\n    NavPlaylistImage,\r\n    NavPlaylistImageDiv,\r\n    NavPlaylistInfoContainer,\r\n    NavPlaylistInput,\r\n    NavPlaylistName,\r\n    NavPlaylistInfo,\r\n    DownloadButton,\r\n    ContentContainer\r\n} from './styles'\r\n\r\nimport api from '../../services/api'\r\nimport url from '../../services/url'\r\n\r\nfunction App(): JSX.Element {\r\n\r\n    const email = localStorage.getItem('email')\r\n    const token = localStorage.getItem('token')\r\n\r\n    const { desktop } = window as any\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    \r\n    const dispatch = useDispatch()\r\n    const musicIsLoaded = useSelector((store: any) => store.musicIsLoaded)\r\n    const updates = useSelector((store: any) => store.updates)\r\n    const playlistsStore: Array<Playlist> = useSelector((store: any) => store.playlists)\r\n\r\n    const [contextMenu, setContextMenu] = useState<boolean>(false)\r\n    const [contextMenuCoordinates, setContextMenuCoordinates] = useState<CustomCoordinates>()\r\n\r\n    const nameInput = useRef<any>()\r\n    const [initialName, setInitialName] = useState<string>('')\r\n    const [playlistName, setPlaylistName] = useState<string>('')\r\n    const [indexSelected, setIndexSelected] = useState<number>(0)\r\n\r\n    const [playlists, setPlaylists] = useState<Array<Playlist>>([])\r\n\r\n    const createPlaylistInput = useRef<any>()\r\n    const [createPlaylist, setCreatePlaylist] = useState<boolean>(false)\r\n    const [createPlaylistName, setCreatePlaylistName] = useState<string>('')\r\n\r\n    const path = location.pathname.replace('/app', '')\r\n\r\n    function navigate(pageName: string): Function {\r\n        return function(): void {\r\n            if (pageName === '') {\r\n                history.push('/app')\r\n            } else {\r\n                history.push(`/app/${pageName}`)\r\n            }\r\n        }\r\n    }\r\n\r\n    function renamePlaylist(index: number): Function {\r\n        return async function() {\r\n            function clean(newName?: string) {\r\n                dispatch({ type: 'rename-playlists', index, payload: newName })\r\n            }\r\n            if (playlistName !== initialName) {\r\n                try {\r\n                    const { data } = await api.patch('/playlists/rename', {\r\n                        name: playlists[index].name,\r\n                        newName: playlistName\r\n                    }, {\r\n                        headers: {\r\n                            email,\r\n                            token\r\n                        }\r\n                    })\r\n                    if (data.error) {\r\n                        alert(data.message)\r\n                    } else {\r\n                        clean(playlistName)\r\n                        setPlaylistName('')\r\n                        setInitialName('')\r\n                    }\r\n                } catch(err) {\r\n                    alert('Um erro ocorreu ao renomear a playlist')\r\n                }\r\n            } else {\r\n                clean()\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleGoPlaylist(playlist: Playlist, index: number): Function {\r\n        return function() {\r\n            dispatch({ type: 'change-actual-index', payload: index })\r\n            history.push(`/app/playlist/${playlist.id}`)\r\n        }\r\n    }\r\n\r\n    function handleContextMenuPlaylist(index: number): Function {\r\n        return function() {\r\n            setIndexSelected(index)\r\n            setContextMenu(true)\r\n        }\r\n    }\r\n\r\n    function handleRenamePlaylist() {\r\n        const newPlaylists: Array<Playlist> = [...playlists]\r\n        newPlaylists[indexSelected].editable = true\r\n        setInitialName(newPlaylists[indexSelected].name)\r\n        setPlaylistName(newPlaylists[indexSelected].name)\r\n        setPlaylists(newPlaylists)\r\n        setTimeout(() => {\r\n            nameInput.current.focus()\r\n        }, 1)\r\n    }\r\n\r\n    async function handleTogglePublic() {\r\n        try {\r\n            const { data } = await api.patch('/playlists/change-public', {\r\n                public_playlist: !playlists[indexSelected].public,\r\n                name: playlists[indexSelected].name\r\n            }, {\r\n                headers: {\r\n                    email,\r\n                    token\r\n                }\r\n            })\r\n            if (data.error) {\r\n                alert(data.message)\r\n            } else {\r\n                dispatch({ type: 'toggle-public-playlists', index: indexSelected })\r\n            }\r\n        } catch(err) {\r\n            alert('Um erro ocorreu.')\r\n        }\r\n    }\r\n\r\n    async function handleDeletePlaylist() {\r\n        try {\r\n            const { data } = await api.delete('/playlists', {\r\n                headers: {\r\n                    email,\r\n                    token,\r\n                    name: playlists[indexSelected].name\r\n                }\r\n            })\r\n            if (data.error) {\r\n                alert(data.message)\r\n            } else {\r\n                dispatch({ type: 'delete-playlists', index: indexSelected })\r\n            }\r\n        } catch(err) {\r\n            alert('Um erro ocorreu ao deletar a playlist')\r\n        }\r\n    }\r\n\r\n    async function handleCreatePlaylist() {\r\n        try {\r\n            if (createPlaylistName) {\r\n                const { data } = await api.post('/playlists', {\r\n                    name: createPlaylistName,\r\n                    public_playlist: false\r\n                }, {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                if (data.error) {\r\n                    alert(data.message)\r\n                } else {\r\n                    dispatch({ type: 'insert-new-playlists', payload: createPlaylistName, id: data.id })\r\n\r\n                    setCreatePlaylist(false)\r\n                    setCreatePlaylistName('')\r\n                }\r\n            } else {\r\n                setCreatePlaylist(false)\r\n                setCreatePlaylistName('')\r\n            }\r\n        } catch(err) {\r\n            alert('Não foi possível criar a playlist')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!email || !token) {\r\n            sessionStorage.setItem('url', location.pathname)\r\n            history.push('/')\r\n            return\r\n        }\r\n        async function run() {\r\n            try {\r\n                const { data } = await api.get('/playlists', {\r\n                    headers: {\r\n                        email,\r\n                        token\r\n                    }\r\n                })\r\n                const newPlaylists = []\r\n                for (let playlist of data) {\r\n                    newPlaylists.push({\r\n                        ...playlist,\r\n                        editable: false\r\n                    })\r\n                }\r\n                setPlaylists(newPlaylists)\r\n\r\n                dispatch({ type: 'change-playlists', payload: data })\r\n            } catch(err) {\r\n                alert('Um erro ocorreu ao carregar suas playlists.')\r\n            }\r\n        }\r\n        run()\r\n    }, [updates])\r\n\r\n    useEffect(() => {\r\n        const newPlaylists = []\r\n        for (let playlist of playlistsStore) {\r\n            newPlaylists.push({\r\n                ...playlist,\r\n                editable: false\r\n            })\r\n        }\r\n        setPlaylists(newPlaylists)\r\n    }, [playlistsStore])\r\n\r\n    useEffect(() => {\r\n        function contextMenu(evt: MouseEvent) {\r\n            evt.preventDefault()\r\n            setContextMenuCoordinates({\r\n                x: evt.x,\r\n                y: evt.y - 15\r\n            })\r\n        }\r\n        function click() {\r\n            setContextMenu(false)\r\n            setContextMenuCoordinates({\r\n                x: -500,\r\n                y: -500\r\n            })\r\n        }\r\n        function keyDown(evt: KeyboardEvent) {\r\n            if (evt.code === 'Enter') {\r\n                if (nameInput.current) {\r\n                    nameInput.current.blur()\r\n                }\r\n                if (createPlaylistInput.current) {\r\n                    createPlaylistInput.current.blur()\r\n                }\r\n            }\r\n        }\r\n        document.addEventListener('contextmenu', contextMenu)\r\n        document.addEventListener('click', click)\r\n        document.addEventListener('keydown', keyDown)\r\n\r\n        return () => {\r\n            document.removeEventListener('contextmenu', contextMenu)\r\n            document.removeEventListener('click', click)\r\n            document.removeEventListener('keydown', keyDown)\r\n        }\r\n    }, [])\r\n\r\n    return <Container>\r\n        {contextMenu ? <ContextMenuContainer {...contextMenuCoordinates}>\r\n            <ContextMenuItem onClick={handleRenamePlaylist}>\r\n                <ContextMenuTextContainer>\r\n                    <Edit\r\n                        color=\"#d9dadc\"\r\n                        size={16}\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Renomear</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n            <ContextMenuItem onClick={handleTogglePublic}>\r\n                <ContextMenuTextContainer>\r\n                    {playlists[indexSelected].public ?\r\n                        <Lock\r\n                            color=\"#d9dadc\"\r\n                            size={16}\r\n                        /> :\r\n                        <Globe\r\n                            color=\"#d9dadc\"\r\n                            size={16}\r\n                        />}\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Deixar {playlists[indexSelected].public ? 'privado' : 'público'}</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n            <ContextMenuItem onClick={handleDeletePlaylist}>\r\n                <ContextMenuTextContainer>\r\n                    <Trash2\r\n                        color=\"#d9dadc\"\r\n                        size={16}\r\n                    />\r\n                    <ContextMenuDivider/>\r\n                    <ContextMenuText>Excluir</ContextMenuText>\r\n                </ContextMenuTextContainer>\r\n            </ContextMenuItem>\r\n        </ContextMenuContainer> : null}\r\n        {desktop ? <Header /> : null}\r\n        <AppContainer>\r\n            <NavContainer>\r\n                <NavButtonContainer>\r\n                    <NavButton onClick={navigate('') as any}>\r\n                        <Home\r\n                            color={path === '' ? '#4c43df' : '#d9dadc'}\r\n                            size={26}\r\n                        />\r\n                        <NavButtonText selected={path === ''}>\r\n                            Início\r\n                        </NavButtonText>\r\n                    </NavButton>\r\n                    <NavButton onClick={navigate('search') as any}>\r\n                        <Search\r\n                            color={path === '/search' ? '#4c43df' : '#d9dadc'}\r\n                            size={26}\r\n                        />\r\n                        <NavButtonText selected={path === '/search'}>\r\n                            Pesquisar\r\n                        </NavButtonText>\r\n                    </NavButton>\r\n                    <NavButton onClick={navigate('upload') as any}>\r\n                        <Upload\r\n                            color={path === '/upload' ? '#4c43df' : '#d9dadc'}\r\n                            size={26}\r\n                        />\r\n                        <NavButtonText selected={path === '/upload'}>\r\n                            Enviar música\r\n                        </NavButtonText>\r\n                    </NavButton>\r\n                    <NavButton onClick={navigate('my-musics') as any}>\r\n                        <Music\r\n                            color={path === '/my-musics' ? '#4c43df' : '#d9dadc'}\r\n                            size={26}\r\n                        />\r\n                        <NavButtonText selected={path === '/my-musics'}>\r\n                            Minhas músicas\r\n                        </NavButtonText>\r\n                    </NavButton>\r\n                    <NavButton onClick={navigate('me') as any}>\r\n                        <UserIcon\r\n                            color={path === '/me' ? '#4c43df' : '#d9dadc'}\r\n                            size={26}\r\n                        />\r\n                        <NavButtonText selected={path === '/me'}>\r\n                            Usuário\r\n                        </NavButtonText>\r\n                    </NavButton>\r\n                    <NavSubtitleContainer>\r\n                        <NavSubtitle>Minhas playlists</NavSubtitle>\r\n                        <button onClick={() => {\r\n                            setCreatePlaylist(true)\r\n                            setTimeout(() => {\r\n                                if (createPlaylistInput.current) {\r\n                                    createPlaylistInput.current.focus()\r\n                                }\r\n                            }, 1)\r\n                            }}>\r\n                            <PlusCircle\r\n                                size={20}\r\n                                color=\"#d9dadc\"\r\n                            />\r\n                        </button>\r\n                    </NavSubtitleContainer>\r\n                    {playlists.map((playlist, index) => <NavPlaylistItem\r\n                        onClick={handleGoPlaylist(playlist, index) as any}\r\n                        onMouseDown={handleContextMenuPlaylist(index) as any}\r\n                        key={index}>\r\n                        {playlist.musics[0] ? <NavPlaylistImage\r\n                            src={url + '/music-bg/' + playlist.musics[0].music_background}\r\n                        /> : <NavPlaylistImageDiv/>}\r\n                        <NavPlaylistInfoContainer>\r\n                            {playlist.editable ?\r\n                                <NavPlaylistInput\r\n                                    ref={nameInput}\r\n                                    value={playlistName}\r\n                                    onChange={e => setPlaylistName(e.target.value)}\r\n                                    onBlur={renamePlaylist(index) as any}\r\n                                /> :\r\n                                <NavPlaylistName>{playlist.name}</NavPlaylistName>}\r\n                            <NavPlaylistInfo>{playlist.musics.length} Música{playlist.musics.length > 1 ? 's' : ''}</NavPlaylistInfo>\r\n                        </NavPlaylistInfoContainer>\r\n                        {playlist.public ?\r\n                            <Globe\r\n                                size={16}\r\n                                color=\"#d9dadc\"\r\n                            /> :\r\n                            <Lock\r\n                                size={16}\r\n                                color=\"#d9dadc\"\r\n                            />}\r\n                    </NavPlaylistItem>)}\r\n                    {createPlaylist ? <div>\r\n                        <NavPlaylistInput\r\n                            value={createPlaylistName}\r\n                            onChange={e => setCreatePlaylistName(e.target.value)}\r\n                            onBlur={handleCreatePlaylist}\r\n                            ref={createPlaylistInput}\r\n                        />\r\n                    </div> : null}\r\n                </NavButtonContainer>\r\n                {!desktop && (navigator.userAgent.toLowerCase().includes('windows')) ? <DownloadButton target=\"_blank\" href={`${url}/download/pc`}>\r\n                    <Download\r\n                        color=\"#d9dadc\"\r\n                        size={20}\r\n                    />\r\n                    <span>Baixar app</span>\r\n                </DownloadButton> : (!desktop && (navigator.userAgent.toLowerCase().includes('android'))) ? <DownloadButton\r\n                    target=\"_blank\"\r\n                    href={`${url}/download`}\r\n                >\r\n                    <Download\r\n                        color=\"#d9dadc\"\r\n                        size={20}\r\n                    />\r\n                    <span>Baixar app</span>\r\n                </DownloadButton> : null}\r\n            </NavContainer>\r\n            <ContentContainer>\r\n                <Switch>\r\n                    <Route exact path=\"/app\" component={HomePage} />\r\n                    <Route path=\"/app/genre/:type\" component={Genre} />\r\n                    <Route path=\"/app/music/:id\" component={MusicPage} />\r\n                    <Route path=\"/app/my-musics\" component={MyMusics} />\r\n                    <Route path=\"/app/playlist/:id\" component={Playlist} />\r\n                    <Route path=\"/app/search\" component={SearchPage} />\r\n                    <Route path=\"/app/upload\" component={UploadPage} />\r\n                    <Route path=\"/app/me\" component={User} />\r\n                    <Route path=\"/app\" children={<NotFound inserted />} />\r\n                </Switch>\r\n            </ContentContainer>\r\n        </AppContainer>\r\n        {musicIsLoaded ? <AudioController/> : null}\r\n    </Container>\r\n}\r\n\r\nexport default App","import styled from 'styled-components'\r\n\r\nexport const LoadingContainer = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    background-color: #e6e6e6;\r\n`\r\n\r\nexport const LoadingImage = styled.img`\r\n    width: 200px;\r\n    height: 200px;\r\n`\r\n\r\nexport const Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    background-color: #e6e6e6;\r\n`\r\n\r\nexport const Logo = styled.img`\r\n    margin: 10px 0;\r\n    width: 100px;\r\n    height: 100px;\r\n`\r\n\r\nexport const Interface = styled.div`\r\n    width: 30%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`\r\n\r\nexport const InputLabel = styled.p`\r\n    font-size: 20px;\r\n`\r\n\r\nexport const InputContainer = styled.div`\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const TextInput = styled.input`\r\n    width: 75%;\r\n    padding: 10px;\r\n    margin-left: 10px;\r\n\r\n    border: 1px solid #d9dadc;\r\n    background-color: #fff;\r\n`\r\n\r\nexport const LoginContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    width: 30%;\r\n`\r\n\r\nexport const CheckboxLabel = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    cursor: pointer;\r\n`\r\n\r\nexport const CheckboxP = styled.p`\r\n    font-size: 18px;\r\n    margin-left: 5px;\r\n`\r\n\r\nexport const LoginButton: any = styled.button`\r\n    padding: 10px 25px;\r\n    background-color: #4c43df;\r\n    border-radius: 10px;\r\n\r\n    opacity: ${(props: any) => props.disabled ? 0.7 : 1};\r\n\r\n    transition: background-color linear .2s;\r\n\r\n    &:hover {\r\n        background-color: ${(props: any) => props.disabled ? '#4c43df' : '#2c23bf'};\r\n    }\r\n    &:active {\r\n        background-color: ${(props: any) => props.disabled ? '#4c43df' : '#09039e'};\r\n    }\r\n`\r\n\r\nexport const LoginText = styled.p`\r\n    font-size: 20px;\r\n    color: #fff;\r\n`\r\n\r\nexport const ErrorContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    border: 1px solid #c82333;\r\n    border-radius: 10px;\r\n\r\n    padding: 10px;\r\n    margin-bottom: 5px;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n    color: #c82333;\r\n    font-size: 17px;\r\n\r\n    margin-left: 10px;\r\n`\r\n\r\nexport const CreateAccountButton = styled.button`\r\n    border: 1px solid #3e3e3e;\r\n    border-radius: 10px;\r\n    background-color: #fff;\r\n\r\n    padding: 10px 25px;\r\n\r\n    transition: opacity linear .2s;\r\n\r\n    &:hover {\r\n        opacity: 0.7;\r\n    }\r\n\r\n    &:active {\r\n        opacity: 0.3;\r\n    }\r\n`","import styled from 'styled-components'\r\n\r\nexport const CheckboxInput = styled.input`\r\n    width: 0;\r\n    height: 0;\r\n    background-color: transparent;\r\n    display: none;\r\n`\r\n\r\nexport const UncheckedDiv = styled.div`\r\n    width: 13px;\r\n    height: 13px;\r\n    background-color: #d9dadc;\r\n\r\n    border: 1px solid #4c43df;\r\n    border-radius: 5px;\r\n`\r\n\r\nexport const CheckedDiv: any = styled.div`\r\n    width: 16px;\r\n    height: 16px;\r\n    background-color: #4c43df;\r\n\r\n    border-radius: 5px;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    box-sizing: border-box;\r\n    padding: 0.5px;\r\n\r\n    &:hover {\r\n        background-color: ${(props: any) => props.disabled ? '#4c43df' : '#2c23bf'};\r\n    }\r\n    &:active {\r\n        background-color: ${(props: any) => props.disabled ? '#4c43df' : '#09039e'};\r\n    }\r\n`","import React, { Fragment } from 'react'\r\nimport {\r\n    Check\r\n} from 'react-feather'\r\n\r\nimport {\r\n    CheckboxInput,\r\n    CheckedDiv,\r\n    UncheckedDiv\r\n} from './styles'\r\n\r\ninterface CheckboxInterface {\r\n    checked: boolean\r\n    setChecked: Function\r\n    disabled?: boolean\r\n}\r\n\r\nfunction Checkbox(props: CheckboxInterface): JSX.Element {\r\n    return <Fragment>\r\n        <CheckboxInput\r\n            type=\"checkbox\"\r\n            checked={props.checked}\r\n            onChange={() => props.setChecked(!props.checked)}\r\n            disabled={props.disabled}\r\n        />\r\n        {props.checked ? <CheckedDiv>\r\n            <Check\r\n                color=\"#d9dadc\"\r\n                size={20}\r\n            />\r\n        </CheckedDiv> : <UncheckedDiv/>}\r\n    </Fragment>\r\n}\r\n\r\nexport default Checkbox","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { User, AtSign, Lock, X } from 'react-feather'\r\n\r\nimport {\r\n    LoadingContainer,\r\n    LoadingImage,\r\n    Container,\r\n    Logo,\r\n    Interface,\r\n    InputLabel,\r\n    InputContainer,\r\n    TextInput,\r\n    LoginContainer,\r\n    CheckboxLabel,\r\n    CheckboxP,\r\n    LoginButton,\r\n    LoginText,\r\n    ErrorContainer,\r\n    ErrorMessage,\r\n    CreateAccountButton\r\n} from './styles'\r\n\r\nimport Checkbox from '../../components/Checkbox'\r\nimport Header from '../../components/Header'\r\nimport Divider from '../../components/Divider'\r\n\r\nimport api from '../../services/api'\r\n\r\nimport logo from '../../images/logo.png'\r\n\r\nfunction Landing(): JSX.Element {\r\n\r\n    const { desktop } = window as any\r\n\r\n    const history = useHistory()\r\n\r\n    const [name, setName] = useState<string>('')\r\n    const [email, setEmail] = useState<string>('')\r\n    const [password, setPassword] = useState<string>('')\r\n    const [confirmPassword, setConfirmPassword] = useState<string>('')\r\n\r\n    const [createAccount, setCreateAccount] = useState<boolean>(false)\r\n    const [rememberMe, setRememberMe] = useState<boolean>(true)\r\n\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n\r\n    const [didMount, setDidMount] = useState<boolean>(false)\r\n\r\n    function handleToggleCreateAccount(): void {\r\n        setCreateAccount(!createAccount)\r\n    }\r\n\r\n    async function handleLogin() {\r\n        const url = sessionStorage.getItem('url')\r\n        setLoading(true)\r\n        try {\r\n            if (createAccount) {\r\n                const { data } = await api.post('/user', {\r\n                    name,\r\n                    email,\r\n                    password,\r\n                    confirmPassword\r\n                })\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    localStorage.setItem('email', email)\r\n                    localStorage.setItem('token', data.token)\r\n                    if (rememberMe) {\r\n                        localStorage.setItem('rememberme', 'true')\r\n                    }\r\n                    history.push(url || '/app')\r\n                }\r\n            } else {\r\n                const { data } = await api.post('/login', {\r\n                    email,\r\n                    password\r\n                })\r\n                if (data.error) {\r\n                    setError(true)\r\n                    setErrorMessage(data.message)\r\n                } else {\r\n                    localStorage.setItem('email', email)\r\n                    localStorage.setItem('token', data.token)\r\n                    if (rememberMe) {\r\n                        localStorage.setItem('rememberme', 'true')\r\n                    }\r\n                    history.push(url || '/app')\r\n                }\r\n            }\r\n        } catch(err) {\r\n            setError(true)\r\n            setErrorMessage('Um erro ocorreu.')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const rememberMe = localStorage.getItem('rememberme')\r\n        if (rememberMe) {\r\n            if (history) {\r\n                history.push('/app')\r\n            }\r\n        } else {\r\n            localStorage.removeItem('email')\r\n            localStorage.removeItem('token')\r\n        }\r\n        setDidMount(true)\r\n    }, [])\r\n\r\n    if (!didMount) {\r\n        return <LoadingContainer>\r\n            <LoadingImage src={logo} />\r\n        </LoadingContainer>\r\n    }\r\n\r\n    return <Container>\r\n        {desktop ? <Header /> : null}\r\n        <Logo\r\n            src={logo}\r\n        />\r\n        <Interface>\r\n            {createAccount ? <>\r\n                <InputLabel>Seu nome</InputLabel>\r\n                <InputContainer>\r\n                    <User\r\n                        size={26}\r\n                        color=\"#4c43df\"\r\n                    />\r\n                    <TextInput\r\n                        placeholder=\"Nome\"\r\n                        value={name}\r\n                        onChange={e => setName(e.target.value)}\r\n                    />\r\n                </InputContainer>\r\n            </> : null}\r\n            <InputLabel>Seu e-mail</InputLabel>\r\n            <InputContainer>\r\n                <AtSign\r\n                    size={26}\r\n                    color=\"#4c43df\"\r\n                />\r\n                <TextInput\r\n                    placeholder=\"E-mail\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                />\r\n            </InputContainer>\r\n            <InputLabel>Sua senha</InputLabel>\r\n            <InputContainer>\r\n                <Lock\r\n                    size={26}\r\n                    color=\"#4c43df\"\r\n                />\r\n                <TextInput\r\n                    type=\"password\"\r\n                    placeholder=\"Senha\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                />\r\n            </InputContainer>\r\n            {createAccount ? <>\r\n                <InputLabel>Confirme sua senha</InputLabel>\r\n                <InputContainer>\r\n                    <Lock\r\n                        size={26}\r\n                        color=\"#4c43df\"\r\n                    />\r\n                    <TextInput\r\n                        type=\"password\"\r\n                        placeholder=\"Confirmar senha\"\r\n                        value={confirmPassword}\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    />\r\n                </InputContainer>\r\n            </> : null}\r\n            {error ? <ErrorContainer>\r\n                <X\r\n                    size={26}\r\n                    color=\"#c82333\"\r\n                />\r\n                <ErrorMessage>\r\n                    {errorMessage}\r\n                </ErrorMessage>\r\n            </ErrorContainer> : null}\r\n        </Interface>\r\n        <LoginContainer>\r\n                <CheckboxLabel>\r\n                    <Checkbox\r\n                        disabled={loading}\r\n                        checked={rememberMe}\r\n                        setChecked={setRememberMe}\r\n                    />\r\n                    <CheckboxP>Lembrar de mim</CheckboxP>\r\n                </CheckboxLabel>\r\n                <LoginButton\r\n                    disabled={loading}\r\n                    onClick={handleLogin}\r\n                >\r\n                    <LoginText>{createAccount ? 'Criar conta' : 'Logar'}</LoginText>\r\n                </LoginButton>\r\n        </LoginContainer>\r\n        <Divider customWidth=\"30%\" />\r\n        <CreateAccountButton onClick={handleToggleCreateAccount}>\r\n            <p>{createAccount ? 'Entrar em uma conta' : 'Criar conta'}</p>\r\n        </CreateAccountButton>\r\n    </Container>\r\n}\r\n\r\nexport default Landing","import React, { FC } from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\n\r\nimport App from '../pages/App'\r\nimport Landing from '../pages/Landing'\r\nimport NotFound from '../pages/NotFound'\r\n\r\nconst Router: FC = () => <BrowserRouter>\r\n    <Switch>\r\n        <Route exact path=\"/\" component={Landing} />\r\n        <Route path=\"/app\" component={App} />\r\n        <Route path=\"/\" component={NotFound} />\r\n    </Switch>\r\n</BrowserRouter>\r\n\r\nexport default Router","import {} from 'redux'\r\n\r\nconst initialState: number = 0\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload: any\r\n}\r\n\r\nfunction ActualIndexReducer(state: number = initialState, actions: Actions) {\r\n    switch (actions.type) {\r\n        case 'clean-actual-index':\r\n            return initialState\r\n        case 'change-actual-index':\r\n            return actions.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default ActualIndexReducer","import {} from 'redux'\r\nimport url from '../../services/url'\r\n\r\nconst initialState = new Audio()\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload?: any\r\n}\r\n\r\nfunction AudioReducer(state: any = initialState, actions: Actions) {\r\n    switch (actions.type) {\r\n        case 'clean-audio':\r\n            state.pause()\r\n            return new Audio()\r\n        case 'source-audio':\r\n            state.src = `${url}/audio/${actions.payload}`\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AudioReducer","import {} from 'redux'\r\n\r\nconst initialState: Music = {\r\n    name: '',\r\n    access: 0,\r\n    description: '',\r\n    keywords: [],\r\n    music_background: '',\r\n    name_upload: '',\r\n    type: '',\r\n    user_owner: {\r\n        avatar: '',\r\n        name: ''\r\n    },\r\n    id: 0,\r\n    createdAt: '',\r\n    editable: false\r\n}\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload?: Music\r\n}\r\n\r\nfunction MusicReducer(state: Music = initialState, actions: Actions): Music {\r\n    switch (actions.type) {\r\n        case 'clean-music':\r\n            return initialState\r\n        case 'change-music':\r\n            if (actions.payload) {\r\n                return actions.payload\r\n            } else {\r\n                return state\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default MusicReducer","import {} from 'redux'\r\n\r\nconst initialState: boolean = false\r\n\r\ninterface Actions {\r\n    type: string\r\n}\r\n\r\nfunction MusicIsLoadedReducer(state: boolean = initialState, actions: Actions) {\r\n    switch (actions.type) {\r\n        case 'clean-music-is-loaded':\r\n            return initialState\r\n        case 'active-music-is-loaded':\r\n            return true\r\n        case 'disactive-music-is-loaded':\r\n            return false\r\n        case 'toggle-music-is-loaded':\r\n            return !state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default MusicIsLoadedReducer","import {} from 'redux'\r\n\r\nconst initialState: MusicType = {\r\n    isType: false,\r\n    value: ''\r\n}\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload?: any\r\n}\r\n\r\nfunction MusicTypeReducer(state: MusicType = initialState, actions: Actions): MusicType {\r\n    switch (actions.type) {\r\n        case 'clean-music-type':\r\n            return initialState\r\n        case 'active-music-type':\r\n            return {...state, isType: true}\r\n        case 'disactive-music-type':\r\n            return {...state, isType: false}\r\n        case 'toggle-music-type':\r\n            return {...state, isType: !state.isType}\r\n        case 'change-music-type':\r\n            return {...state, value: actions.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default MusicTypeReducer","import {} from 'redux'\r\n\r\nconst initialState: StoreStatePlaylist = {\r\n    name: '',\r\n    musics: [],\r\n    isPlaylist: false,\r\n    index: 0\r\n}\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload?: any\r\n}\r\n\r\nfunction PlaylistReducer(state: StoreStatePlaylist = initialState, actions: Actions): StoreStatePlaylist {\r\n    switch (actions.type) {\r\n        case 'clean-playlist':\r\n            return {...initialState}\r\n        case 'active-playlist':\r\n            return {...state, isPlaylist: true}\r\n        case 'disactive-playlist':\r\n            return {...state, isPlaylist: false}\r\n        case 'toggle-playlist':\r\n            return {...state, isPlaylist: !state.isPlaylist}\r\n        case 'change-playlist':\r\n            return {...state, musics: actions.payload}\r\n        case 'rename-playlist':\r\n            return {...state, name: actions.payload}\r\n        case 'up-playlist':\r\n            if (state.index + 1 < state.musics.length) {\r\n                return {...state, index: state.index + 1}\r\n            } else {\r\n                return {...state}\r\n            }\r\n        case 'down-playlist':\r\n            if (state.index - 1 > -1) {\r\n                return {...state, index: state.index - 1}\r\n            } else {\r\n                return {...state}\r\n            }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\nexport default PlaylistReducer","import {} from 'redux'\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload: any\r\n    index: number\r\n    id: number\r\n}\r\n\r\nfunction PlaylistsReducer(state: Array<Playlist> = [], actions: Actions) {\r\n    switch (actions.type) {\r\n        case 'change-playlists':\r\n            return actions.payload\r\n        case 'insert-playlists':\r\n            const playlists = [...state]\r\n            playlists[actions.index].musics.push(actions.payload)\r\n            return playlists\r\n        case 'remove-playlists':\r\n            const playlists2 = [...state]\r\n            playlists2[actions.index].musics.splice(actions.payload, 1)\r\n            return playlists2\r\n        case 'rename-playlists':\r\n            const playlists3 = [...state]\r\n            playlists3[actions.index].name = actions.payload\r\n            return playlists3\r\n        case 'insert-new-playlists':\r\n            const playlists4 = [...state]\r\n            playlists4.push({\r\n                musics: [],\r\n                name: actions.payload,\r\n                public: false,\r\n                editable: true,\r\n                id: actions.id\r\n            })\r\n            return playlists4\r\n        case 'delete-playlists':\r\n            const playlists5 = [...state]\r\n            playlists5.splice(actions.index, 1)\r\n            return playlists5\r\n        case 'toggle-public-playlists':\r\n            const playlists6 = [...state]\r\n            playlists6[actions.index].public = !playlists6[actions.index].public\r\n            return playlists6\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default PlaylistsReducer","import {} from 'redux'\r\n\r\ninterface Actions {\r\n    type: string\r\n    payload: any\r\n}\r\n\r\nfunction Updates(state: number = 0, actions: Actions): Number {\r\n    switch (actions.type) {\r\n        case 'update':\r\n            return state + 1\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default Updates","import { createStore, combineReducers } from 'redux'\r\n\r\nimport actualIndex from './reducers/actualIndex.reducer'\r\nimport audio from './reducers/audio.reducer'\r\nimport music from './reducers/music.reducer'\r\nimport musicIsLoaded from './reducers/musicIsLoaded.reducer'\r\nimport musicType from './reducers/musicType.reducer'\r\nimport playlist from './reducers/playlist.reducer'\r\nimport playlists from './reducers/playlists.reducer'\r\nimport updates from './reducers/updates.reducer'\r\n\r\nconst reducers = combineReducers({\r\n    actualIndex,\r\n    audio,\r\n    music,\r\n    musicIsLoaded,\r\n    musicType,\r\n    playlist,\r\n    playlists,\r\n    updates\r\n})\r\n\r\nconst store = createStore(reducers)\r\n\r\nexport default store","import React, { Fragment } from 'react'\nimport { Provider } from 'react-redux'\n\nimport GlobalStyle from './styles/global'\nimport Router from './routes'\n\nimport store from './store'\n\nconst App = () => {\n  return <Fragment>\n    <Provider store={store}>\n      <Router />\n      <GlobalStyle />\n    </Provider>\n  </Fragment>\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}